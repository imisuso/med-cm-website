import{s as h,r as _,T as S,c as l,a as t,t as p,d as x,e as y,u as o,w as f,v as c,b as u,n as v,_ as $,o as d,g as w,i as k}from"./app-D_J6jNxv.js";import{t as V}from"./style-Cced5V6y.js";const C={class:"flex flex-col p-4 w-full"},j={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-4 w-full border rounded-md shadow-md items-baseline"},q={class:"text-2xl font-bold"},D={class:"flex flex-col"},F={class:"mb-4"},N={key:0,class:"p-error"},U={class:"mb-4"},z={key:0,class:"p-error"},B={class:"mb-4"},E={key:0,class:"p-error"},T={class:"flex items-center mb-4"},I={class:"flex flex-row mt-2 space-x-4"},O={key:2,type:"button",class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},L={layout:$},M=Object.assign(L,{__name:"DataForm",props:{action:{type:String,require:!0,default:"insert"},item:{type:Object}},setup(m){const n=m,g=_(null);switch(n.action){case"insert":g.value="เพิ่ม";break;case"update":g.value="แก้ไข";break;case"delete":g.value="ลบ";break}const r=S({id:n.item?n.item.id:null,title:n.item?n.item.title:null,link:n.item?n.item.link:null,order_number:n.item?n.item.order_number:null,status:n.item?n.item.status:!1}),a=(s,e,i)=>{V({title:e,description:i},{showIcon:!0,transition:"zoom",position:"top-right",type:s,timeout:3e3})},b=()=>{r.id?r.post(route("admin.download.update",r.id),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{a("success","สำเร็จ","แก้ไขรายละเอียดข้อมูลดาวน์โหลด เรียบร้อย")},onError:s=>{s.msg?a("danger",s.msg,s.sysmsg):a("danger","เกิดข้อผิดพลาด","ระบุรายละเอียดไม่ถูกต้องหรือไม่ครบถ้วน กรุณาตรวจสอบข้อมูลทุกครั้งก่อนทำการแก้ไข")},onFinish:()=>{r.processing=!1}}):r.post(route("admin.download.store"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{a("success","สำเร็จ","จัดเก็บรายละเอียดข้อมูลดาวน์โหลด เรียบร้อย")},onError:s=>{s.msg?a("danger",s.msg,s.sysmsg):a("danger","เกิดข้อผิดพลาด","ระบุรายละเอียดไม่ถูกต้องหรือไม่ครบถ้วน กรุณาตรวจสอบข้อมูลทุกครั้งก่อนทำการจัดเก็บ")},onFinish:()=>{r.processing=!1}})};return(s,e)=>(d(),l("div",C,[t("div",j,[t("div",q,p(g.value)+"ข้อมูลดาวน์โหลด",1),x(o(k),{href:s.route("admin.download"),method:"get",as:"button",type:"button",class:"px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded cursor-pointer hover:bg-green-800"},{default:y(()=>e[4]||(e[4]=[w(" กลับหน้าหลัก ")])),_:1},8,["href"])]),e[11]||(e[11]=t("div",{class:"text-gray-900 text-lg underline font-medium dark:text-white mb-4"}," รายละเอียดข้อมูลดาวน์โหลด ",-1)),t("div",D,[e[7]||(e[7]=t("label",{for:"title",class:"text-gray-600"},"รายละเอียด :",-1)),t("div",F,[f(t("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=i=>o(r).title=i),required:"true",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[c,o(r).title]]),s.$page.props.errors.title?(d(),l("span",N,p(s.$page.props.errors.title),1)):u("",!0)]),e[8]||(e[8]=t("label",{for:"link",class:"text-gray-600"},"URL ของข้อมูล :",-1)),t("div",U,[f(t("input",{type:"text",id:"link","onUpdate:modelValue":e[1]||(e[1]=i=>o(r).link=i),required:"true",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[c,o(r).link]]),s.$page.props.errors.link?(d(),l("span",z,p(s.$page.props.errors.link),1)):u("",!0)]),e[9]||(e[9]=t("label",{for:"order_number",class:"text-gray-600"},"ลำดับการแสดง :",-1)),t("div",B,[f(t("input",{type:"number",id:"order_number","onUpdate:modelValue":e[2]||(e[2]=i=>o(r).order_number=i),required:"true",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[c,o(r).order_number]]),s.$page.props.errors.order_number?(d(),l("span",E,p(s.$page.props.errors.order_number),1)):u("",!0)]),t("div",T,[e[5]||(e[5]=t("div",null,"ปิด",-1)),t("div",{class:"flex justify-between items-center mx-2 cursor-pointer",onClick:e[3]||(e[3]=i=>o(r).status=!o(r).status)},[t("div",{class:v(["w-10 flex items-center bg-gray-300 rounded-full p-1 duration-300 ease-in-out",{"bg-green-400":o(r).status}])},[t("div",{class:v(["bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out",{"translate-x-4":o(r).status}])},null,2)],2)]),e[6]||(e[6]=t("div",null,"เปิด",-1))])]),t("div",I,[m.action==="insert"?(d(),l("button",{key:0,type:"button",onClick:b,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"จัดเก็บ")):u("",!0),m.action==="update"?(d(),l("button",{key:1,type:"button",onClick:b,class:"text-white bg-orange-700 hover:bg-orange-800 focus:ring-4 focus:ring-orange-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"แก้ไข")):u("",!0),m.action==="delete"?(d(),l("button",O,"ลบ")):u("",!0),x(o(k),{href:s.route("admin.download"),method:"get",as:"button",type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10"},{default:y(()=>e[10]||(e[10]=[w(" ยกเลิก ")])),_:1},8,["href"])])]))}}),A=h(M,[["__scopeId","data-v-4b0820d9"]]);export{A as default};
