import{_ as g,r as x,D as k,j as B,c as a,o as r,a as e,e as y,i as j,w as M,v as O,b,E as D,F as w,h as v,t as o,f as _,T,s as f}from"./app-B_ehG6JH.js";import{d as h}from"./th-TsgVQkta.js";import{b as $}from"./buddhistEra-DAW5V4gw.js";import{_ as C}from"./Paginations-DiaYA4Ci.js";import{_ as q}from"./Modal-DYTqs7VA.js";const H={class:"flex flex-col p-4 w-full"},L={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-2 w-full border border-gray-200 rounded-md shadow-md items-baseline"},S={class:"grid grid-cols-3 gap-2 sm:gap-6 mb-2"},E={class:"col-span-3 sm:col-span-1"},U={class:"col-span-3 sm:col-span-1"},V={class:"col-span-3 sm:col-span-1"},A={key:0},F={class:"grid grid-cols-2 border border-gray-200 p-2 rounded-md shadow-md"},N={class:"col-span-2 text-sm text-black font-semibold"},z={class:"col-span-2 text-sm text-gray-700 italic"},I={class:"col-span-2"},R={class:"col-span-2"},G={class:"col-span-2"},J={class:"flex flex-col md:flex-row space-x-0 md:space-x-2 space-y-1 md:space-y-0 items-start md:items-center text-sm mt-2"},K={class:"whitespace-nowrap tracking-wide border border-gray-700 rounded-2xl shadow-sm px-2 text-white bg-slate-700"},P={class:"whitespace-nowrap tracking-wide border border-gray-700 rounded-2xl shadow-sm px-2 text-white bg-amber-700"},Q={class:"whitespace-nowrap tracking-wide border border-gray-700 rounded-2xl shadow-sm px-2 text-white bg-sky-700"},W={key:1},X={class:"grid grid-cols-2 border border-gray-200 p-2 rounded-md shadow-md"},Y={class:"col-span-2 text-sm text-black font-semibold"},Z={class:"col-span-2 text-sm text-gray-700 italic"},ee={class:"col-span-2"},te={class:"col-span-2"},se={class:"col-span-2"},oe={class:"flex space-x-2 items-center text-sm mt-2"},re={class:"whitespace-nowrap tracking-wide border border-gray-700 rounded-2xl shadow-sm px-2 text-white bg-slate-700"},ae={class:"whitespace-nowrap tracking-wide border border-gray-700 rounded-2xl shadow-sm px-2 text-white bg-amber-700"},de={class:"whitespace-nowrap tracking-wide border border-gray-700 rounded-2xl shadow-sm px-2 text-white bg-sky-700"},ie={class:"flex flex-col justify-start"},ne={layout:g},xe=Object.assign(ne,{__name:"Index",props:{logs:{type:Object,required:!0,default:{}},sections:{type:Object,required:!0,default:{}},types:{type:Object,required:!0,default:{}},actions:{type:Object,required:!0,default:{}},filters:{type:Object}},setup(p){const l=p;let i=x(l.filters.search);k(i,d=>{B.get(route("admin.log.index"),{search:d},{preserveState:!0,replace:!0})}),h.extend($);const n=x(!1),c=x([]),m=d=>{d==="type"?f(()=>{c.value=l.types.map(s=>s.type)}):d==="section"?f(()=>{c.value=l.sections.map(s=>s.section)}):d==="action"&&f(()=>{c.value=l.actions.map(s=>s.action)}),n.value=!n.value};return(d,s)=>(r(),a("div",H,[e("div",L,[s[5]||(s[5]=e("div",{class:"text-2xl font-bold w-full md:w-1/3"},"ข้อมูลการใช้งาน",-1)),M(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>D(i)?i.value=t:i=t),class:"text rounded-md border-gray-400 w-full",placeholder:"ค้นจาก Type, Action, Section หรือ Details"},null,512),[[O,b(i)]])]),e("div",S,[e("div",E,[e("label",{onClick:s[1]||(s[1]=t=>m("type")),for:"type",class:"block cursor-pointer text-sm text-white text-center font-medium bg-slate-700 tracking-wide border border-gray-700 rounded-2xl px-2"},"Type")]),e("div",U,[e("label",{onClick:s[2]||(s[2]=t=>m("action")),for:"action",class:"block cursor-pointer text-sm text-white text-center font-medium bg-amber-700 tracking-wide border border-gray-700 rounded-2xl px-2"},"Action")]),e("div",V,[e("label",{onClick:s[3]||(s[3]=t=>m("section")),for:"section",class:"block cursor-pointer text-sm text-white text-center font-medium bg-sky-700 tracking-wide border border-gray-700 rounded-2xl px-2"},"Section")])]),(r(!0),a(w,null,v(p.logs.data,(t,u)=>(r(),a("div",{key:u,class:"bg-linear-to-l from-sky-100 border-l-4 rounded-l-md border-l-blue-600 mb-1"},[t.person?(r(),a("div",A,[e("div",F,[e("div",N,"#"+o(t.id),1),e("div",z,o(b(h)(t.created_at).locale("th").format("D/MM/BBBB H:mm")),1),e("div",I,o(t.person.fname_th)+" "+o(t.person.lname_th),1),e("div",R,o(t.details),1),e("div",G,[e("div",J,[e("div",K,o(t.type),1),e("div",P,o(t.action),1),e("div",Q,o(t.section),1)])])])])):(r(),a("div",W,[e("div",X,[e("div",Y,"#"+o(t.id),1),e("div",Z,o(b(h)(t.created_at).locale("th").format("D/MM/BBBB H:mm")),1),e("div",ee,"Unknow-User ("+o(t.user)+")",1),e("div",te,o(t.details),1),e("div",se,[e("div",oe,[e("div",re,o(t.type),1),e("div",ae,o(t.action),1),e("div",de,o(t.section),1)])])])]))]))),128)),y(C,{pagination:p.logs,class:"mt-1"},null,8,["pagination"]),(r(),j(T,{to:"body"},[y(q,{isModalOpen:n.value},{header:_(()=>s[6]||(s[6]=[e("div",{class:"text-gray-900 text-xl font-medium"}," List ที่มีการเก็บ Log ",-1)])),body:_(()=>[e("div",ie,[(r(!0),a(w,null,v(c.value,(t,u)=>(r(),a("li",{key:u,class:"text-sm"},o(t),1))),128))])]),footer:_(()=>[e("button",{onClick:s[4]||(s[4]=t=>n.value=!n.value),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10"},"ปิด")]),_:1},8,["isModalOpen"])]))]))}});export{xe as default};
