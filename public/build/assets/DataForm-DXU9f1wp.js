import{r as d,T as S,c as a,a as t,t as C,d as v,e as x,u as i,w as r,v as g,B as y,b as w,_ as j,o as u,g as h,i as _}from"./app-nzuu-4b6.js";import{t as q}from"./style-DwzHvCnm.js";const B={class:"flex flex-col p-4 w-full"},z={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-2 w-full border rounded-md shadow-md items-baseline"},D={class:"text-2xl font-bold"},F={class:"flex flex-col border rounded-lg shadow-lg p-4"},M={class:"mt-2 flex items-center"},N={class:"inline-block h-20 w-20 rounded-full overflow-hidden bg-gray-100"},$=["src"],E=["src"],I={class:"flex flex-col w-24 items-center mx-2 px-2 bg-white text-blue-400 rounded-lg shadow-lg tracking-wide uppercase border border-blue-400 cursor-pointer hover:bg-blue-400 hover:text-white"},O={class:"grid grid-cols-6 gap-2 md:gap-6 mt-6 mb-6"},R={class:"py-3"},T={class:"mt-4 space-y-4"},A={class:"flex items-center"},L=["checked"],H={class:"flex items-center"},W=["checked"],G={class:"flex flex-row mt-2 space-x-4"},J={layout:j},Q=Object.assign(J,{__name:"DataForm",props:{action:{type:String,require:!0,default:"insert"},division:{type:Object}},setup(f){const n=f,m=d(null),k=d(base_url),p=n.division?d(n.division.image_url):d(null),V=n.division?d(n.division.image):d(null);switch(n.action){case"insert":m.value="เพิ่ม";break;case"edit":m.value="แก้ไข";break;case"delete":m.value="ลบ";break}const s=S({id:n.division?n.division.id:null,display_order:n.division?n.division.display_order:999,division_id:n.division?n.division.division_id:null,type:n.division?n.division.type:null,name_th:n.division?n.division.name_th:null,name_en:n.division?n.division.name_en:null,image:null}),c=(l,e,o)=>{q({title:e,description:o},{showIcon:!0,transition:"zoom",position:"top-right",type:l,timeout:3e3})},b=()=>{let l="";s.id?s.transform(e=>({...e,oldimage:V.value})).post(route("admin.division.update",s.id),{_method:"patch",preserveState:!1,preserveScroll:!0,onSuccess:()=>{c("success","สำเร็จ","แก้ไขข้อมูล สาขา/หน่วยงาน เรียบร้อย")},onError:e=>{for(let o in e)l=l+`- ${e[o]}<br/>`;c("danger","พบข้อผิดพลาด",l)},onFinish:()=>{s.processing=!1}}):s.post(route("admin.division.store"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{c("success","สำเร็จ","จัดเก็บข้อมูล สาขา/หน่วยงาน เรียบร้อย")},onError:e=>{for(let o in e)l=l+`- ${e[o]}<br/>`;c("danger","พบข้อผิดพลาด",l)},onFinish:()=>{s.processing=!1}})},U=l=>{const e=l.target.files[0];e?p.value=URL.createObjectURL(e):p.value=""};return(l,e)=>(u(),a("div",B,[t("div",z,[t("div",D,C(m.value)+"สาขา / หน่วยงาน",1),v(i(_),{href:l.route("admin.division"),method:"get",as:"button",type:"button",class:"px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded cursor-pointer hover:bg-green-800"},{default:x(()=>e[7]||(e[7]=[h(" กลับหน้าหลัก ")])),_:1},8,["href"])]),e[19]||(e[19]=t("div",{class:"text-gray-900 text-lg underline font-medium dark:text-white mb-4"}," รายละเอียดข้อมูลของ สาขา/หน่วยงาน ",-1)),t("div",F,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700"}," รูปสาขา/หน่วยงาน ",-1)),t("div",M,[t("span",N,[i(p)?(u(),a("img",{key:1,src:i(p),class:"h-20 w-20 rounded-full"},null,8,E)):(u(),a("img",{key:0,src:`${k.value}/fallbackimage/default-blank-image.jpg`,class:"h-20 w-20 rounded-full"},null,8,$))]),t("label",I,[e[8]||(e[8]=t("svg",{class:"w-6 h-6",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[t("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})],-1)),e[9]||(e[9]=t("span",{class:"mt-2 text-base leading-normal"},"เลือกรูป",-1)),t("input",{type:"file",onInput:e[0]||(e[0]=o=>i(s).image=o.target.files[0]),onChange:U,class:"hidden"},null,32)])])]),t("div",O,[e[11]||(e[11]=t("label",{for:"division_id",class:"col-span-6 md:col-span-2 mr-2 self-end"},"ลำดับแสดงผล :",-1)),r(t("input",{type:"number",id:"division_id","onUpdate:modelValue":e[1]||(e[1]=o=>i(s).display_order=o),required:"true",class:"col-span-6 md:col-span-4 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[g,i(s).display_order]]),e[12]||(e[12]=t("label",{for:"division_id",class:"col-span-6 md:col-span-2 mr-2 self-end"},"เลข สาขา/หน่วยงาน :",-1)),r(t("input",{type:"number",id:"division_id","onUpdate:modelValue":e[2]||(e[2]=o=>i(s).division_id=o),required:"true",class:"col-span-6 md:col-span-4 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[g,i(s).division_id]]),e[13]||(e[13]=t("label",{for:"name_thai",class:"col-span-6 md:col-span-2 mr-2 self-end"},"ชื่อ สาขา/หน่วยงาน (ไทย) :",-1)),r(t("input",{type:"text",id:"name_thai","onUpdate:modelValue":e[3]||(e[3]=o=>i(s).name_th=o),required:"true",class:"col-span-6 md:col-span-4 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[g,i(s).name_th]]),e[14]||(e[14]=t("label",{for:"name_eng",class:"col-span-6 md:col-span-2 mr-2 self-end"},"ชื่อ สาขา/หน่วยงาน (อังกฤษ) :",-1)),r(t("input",{type:"text",id:"name_eng","onUpdate:modelValue":e[4]||(e[4]=o=>i(s).name_en=o),required:"true",class:"col-span-6 md:col-span-4 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[g,i(s).name_en]])]),t("fieldset",R,[e[17]||(e[17]=t("div",null,[t("legend",{class:"text-base font-medium text-gray-900"},"ประเภท :"),t("p",{class:"text-sm text-gray-500"},"กรุณาเลือกระหว่าง สาขา หรือ หน่วยงาน")],-1)),t("div",T,[t("div",A,[r(t("input",{id:"branch",type:"radio",value:"b","onUpdate:modelValue":e[5]||(e[5]=o=>i(s).type=o),checked:i(s).type==="b",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"},null,8,L),[[y,i(s).type]]),e[15]||(e[15]=t("label",{for:"branch",class:"ml-3 block text-sm font-medium text-gray-700"}," สาขา ",-1))]),t("div",H,[r(t("input",{id:"unit",type:"radio",value:"u","onUpdate:modelValue":e[6]||(e[6]=o=>i(s).type=o),checked:i(s).type==="u",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"},null,8,W),[[y,i(s).type]]),e[16]||(e[16]=t("label",{for:"unit",class:"ml-3 block text-sm font-medium text-gray-700"}," หน่วยงาน ",-1))])])])]),t("div",G,[f.action==="insert"?(u(),a("button",{key:0,type:"button",onClick:b,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"จัดเก็บ")):w("",!0),f.action==="edit"?(u(),a("button",{key:1,type:"button",onClick:b,class:"text-white bg-orange-700 hover:bg-orange-800 focus:ring-4 focus:ring-orange-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"แก้ไข")):w("",!0),v(i(_),{href:l.route("admin.division"),method:"get",as:"button",type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10"},{default:x(()=>e[18]||(e[18]=[h(" ยกเลิก ")])),_:1},8,["href"])])]))}});export{Q as default};
