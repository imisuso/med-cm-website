import{o as u,c as S,a,r as m,K as $,h as L,b as p,d as e,t as c,s as h,u as l,i as x,n as b,g as y,a5 as z,L as w,x as C}from"./app.a6926c20.js";import{T as A}from"./ToggleSwitch.fda073db.js";import{l as T,s as k}from"./lodash.83e46d9f.js";import{t as F}from"./style.e937d6bc.js";import{r as R}from"./ReplyIcon.bd04b227.js";/* empty css                                                                 */function E(i,s){return u(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})])}function I(i,s){return u(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})])}const D={class:"flex flex-col p-4 w-full"},O={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-2 w-full border rounded-md shadow-md items-baseline"},P={class:"text-2xl font-bold"},q={class:"flex items-center px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded cursor-pointer hover:bg-green-800"},K=C(" \u0E01\u0E25\u0E31\u0E1A\u0E2B\u0E19\u0E49\u0E32\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19 "),W={class:"flex flex-col border rounded-lg shadow-lg p-4"},G={class:"flex justify-center md:justify-start"},H=["src"],J=["src"],Q={class:"grid grid-cols-6 gap-2 md:gap-6 mt-6 mb-6"},X=e("label",{for:"user_id",class:"col-span-6 md:col-span-1 mr-2 self-end"},"\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19 :",-1),Y={class:"flex items-center"},Z=["src"],ee=e("label",{for:"role_name",class:"col-span-6 md:col-span-1 mr-2 self-end"},"\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48 :",-1),te={"slot:singleLabel":"props"},se={"slot:option":"props"},oe=e("label",{for:"status",class:"col-span-2 md:col-span-1 mr-2 self-center"},"\u0E2A\u0E16\u0E32\u0E19\u0E30 :",-1),le={class:"col-span-4"},re={id:"status",class:"flex items-center my-2 sm:my-0"},ne={class:"text-blue-600"},ae={class:"text-blue-600"},ie={class:"flex flex-row mt-2 space-x-4"},ce=C(" \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 "),ue={layout:z},_e=Object.assign(ue,{__name:"DataForm",props:{action:{type:String,require:!0,default:"insert"},user:{type:Object},person:{type:Array,default:[]},roles:{type:Array,default:[]}},setup(i){const s=i,g=m(null),j=m(base_url);switch(s.action){case"insert":g.value="\u0E40\u0E1E\u0E34\u0E48\u0E21";break;case"edit":g.value="\u0E41\u0E01\u0E49\u0E44\u0E02";break;case"delete":g.value="\u0E25\u0E1A";break}const n=$({user_id:s.user?s.user.id:null,role_name:s.user&&s.user.roles.length?s.user.roles[0].name:null,status:s.user?s.user.status:!0}),d=s.user?s.person[0]:m(null),_=s.user&&s.user.roles.length?m(s.user.roles[0]):m(null),f=(t,r,o)=>{F({title:r,description:o},{showIcon:!0,transition:"zoom",position:"top-right",type:t,timeout:3e3})},V=({name:t})=>`${t}`,B=T.exports.throttle(t=>{L.Inertia.get(route("admin.user.create"),{term:t},{preserveState:!0,preserveScroll:!0,replace:!0})},300),M=t=>{n.user_id=t.id},N=t=>{n.role_name=t.name},U=()=>{n.status=!n.status},v=()=>{let t="";s.action==="edit"?n.patch(route("admin.user.update",n.user_id),{preserveState:!1,preserveScroll:!0,onSuccess:()=>{f("success","\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08","\u0E41\u0E01\u0E49\u0E44\u0E02\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E40\u0E23\u0E35\u0E22\u0E1A\u0E23\u0E49\u0E2D\u0E22")},onError:r=>{for(let o in r)t=t+`- ${r[o]}<br/>`;f("danger","\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14",t)},onFinish:()=>{n.processing=!1}}):n.post(route("admin.user.store",n.user_id),{preserveState:!1,preserveScroll:!0,onSuccess:()=>{f("success","\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08","\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E40\u0E23\u0E35\u0E22\u0E1A\u0E23\u0E49\u0E2D\u0E22")},onError:r=>{for(let o in r)t=t+`- ${r[o]}<br/>`;f("danger","\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14",t)},onFinish:()=>{n.processing=!1}})};return(t,r)=>(u(),p("div",D,[e("div",O,[e("div",P,c(g.value)+"\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19",1),a(l(w),{href:t.route("admin.user.index"),method:"get",as:"button",type:"button"},{default:h(()=>[e("button",q,[a(l(R),{class:b(["h-6 w-6 mr-2"])}),K])]),_:1},8,["href"])]),e("div",W,[e("div",G,[l(d)?(u(),p("img",{key:1,src:l(d).image_url,alt:"No Picture",class:"object-cover w-20 h-28 rounded-lg ring-1 ring-gray-300"},null,8,J)):(u(),p("img",{key:0,src:`${j.value}/fallbackimage/default-blank-image.jpg`,alt:"No Picture",class:"object-cover w-20 h-28 rounded-lg ring-1 ring-gray-300"},null,8,H))]),e("div",Q,[X,a(l(k),{id:"user_id",modelValue:l(d),"onUpdate:modelValue":r[0]||(r[0]=o=>x(d)?d.value=o:null),"deselect-label":"Can't remove this value","track-by":"id",label:"lname_th",internalSearch:!1,placeholder:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19",class:"col-span-6 md:col-span-5",disabled:!!i.user,"show-labels":!1,options:i.person,searchable:!i.user,"allow-empty":!1,onSearchChange:l(B),onSelect:M},{singleLabel:h(o=>[e("span",null,[e("strong",null,c(o.option.fname_th)+" - "+c(o.option.lname_th)+" ["+c(o.option.division.name_th)+"]",1)])]),option:h(o=>[e("div",Y,[e("img",{class:"h-14 w-12 p-1",src:o.option.image_url,alt:"Not Available"},null,8,Z),e("strong",null,c(o.option.fname_th)+" - "+c(o.option.lname_th)+" ["+c(o.option.division.name_th)+"]",1)])]),_:1},8,["modelValue","disabled","options","searchable","onSearchChange"]),ee,a(l(k),{id:"role_name",modelValue:l(_),"onUpdate:modelValue":r[1]||(r[1]=o=>x(_)?_.value=o:null),"deselect-label":"Can't remove this value","track-by":"name",label:"name",placeholder:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48\u0E23\u0E31\u0E1A\u0E1C\u0E34\u0E14\u0E0A\u0E2D\u0E1A",class:"col-span-6 md:col-span-5","custom-label":V,"show-labels":!1,options:i.roles,searchable:!1,"allow-empty":!1,onSelect:N},{default:h(()=>[e("template",te,[e("span",null,c(s.option.name),1)]),e("template",se,[e("span",null,[e("strong",null,c(s.option.name),1)])])]),_:1},8,["modelValue","options"]),oe,e("div",le,[e("div",re,[e("div",ne,[a(l(E),{class:b(["h-4 w-4"])})]),a(A,{status:l(n).status,onButtonIsToggle:U},null,8,["status"]),e("div",ae,[a(l(I),{class:b(["h-4 w-4"])})])])])])]),e("div",ie,[i.action==="insert"?(u(),p("button",{key:0,type:"button",onClick:v,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A")):y("",!0),i.action==="edit"?(u(),p("button",{key:1,type:"button",onClick:v,class:"text-white bg-orange-700 hover:bg-orange-800 focus:ring-4 focus:ring-orange-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"\u0E41\u0E01\u0E49\u0E44\u0E02")):y("",!0),a(l(w),{href:t.route("admin.user.index"),method:"get",as:"button",type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10"},{default:h(()=>[ce]),_:1},8,["href"])])]))}});export{_e as default};
