import{y as C,A as j,r as v,c,o as a,a as e,i as y,n as b,e as f,f as u,g as x,b as g,l as p,t as w,T as I,F as h,j as k,_ as B,D as z,w as $,v as L,E as O,h as D}from"./app-in0725Sj.js";import{_ as H}from"./Modal-DngZGBkT.js";import{d as E}from"./th-ByNN2T8p.js";import{b as V}from"./buddhistEra-D4FGp45A.js";import{t as A}from"./style-D_zxMGF0.js";import{_ as N}from"./Paginations-05jB3uYv.js";const S={class:"bg-linear-to-l from-sky-100 shadow-md border-2 border-gray-200 rounded-lg flex flex-col w-full space-y-1 mt-2"},T={class:"block sm:hidden px-4 pt-4 relative"},q={class:"py-1","aria-labelledby":"dropdownButton"},F={class:"flex flex-col sm:flex-row items-center w-full px-2 bg-linear-to-l from-sky-100"},U={class:"flex shrink-0 w-8 items-center justify-center"},R={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-green-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},W={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},G={class:"flex flex-col w-full px-2 space-y-1 items-start"},J={class:"flex flex-row"},K={class:"mr-1 shrink-0"},P={class:"text-ellipsis overflow-hidden"},Q={class:"hidden md:block ml-5 text-xs text-gray-900 break-all"},X=["href"],Y={class:"ml-5 text-xs text-gray-900"},Z={class:"hidden sm:block"},ee={class:"px-4 pt-4 relative"},te={class:"py-1","aria-labelledby":"dropdownButton"},oe={class:"flex flex-row justify-start items-center"},se={class:"text-gray-900 text-md font-medium dark:text-white truncate"},re={__name:"DownloadItemInteractiveCardList",props:{downloadItem:{type:Object,required:!0,default:{}},index:{type:Number,required:!0,default:1}},emits:["edit-gallery","delete-gallery"],setup(o,{emit:_}){C(()=>{window.addEventListener("click",l)}),j(()=>{window.removeEventListener("click",l)}),E.extend(V),v(base_url);const s=v(!1),d=v(!1),l=n=>{n.target.matches(".dropbtn")||s.value&&(s.value=!1)},i=(n,t,r)=>{A({title:t,description:r},{showIcon:!0,transition:"zoom",position:"top-right",type:n,timeout:3e3})},m=n=>{k.delete(route("admin.download.delete",n.id),{onSuccess:()=>{i("success","สำเร็จ","ลบข้อมูลดาวน์โหลด เรียบร้อย")},onError:t=>{let r="";for(let M in t)r=r+`- ${t[M]}<br/>`;i("danger","พบข้อผิดพลาด",r)},onFinish:()=>{}})};return(n,t)=>(a(),c(h,null,[e("div",S,[e("div",T,[e("button",{id:"dropdownButton",onClick:t[0]||(t[0]=r=>s.value=!s.value),class:"block dropbtn text-gray-500 hover:bg-gray-100 focus:outline-hidden focus:ring-4 focus:ring-gray-200 rounded-lg text-sm p-1.5"},t[6]||(t[6]=[e("svg",{class:"w-6 h-6 dropbtn",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{class:"dropbtn",d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})],-1)])),e("div",{id:"dropdown",class:b([[s.value?"":"hidden"],"absolute dropdown-content left-0 bg-white text-base z-10 list-none divide-y divide-gray-100 rounded-sm shadow-sm w-44"])},[e("ul",q,[e("li",null,[f(g(p),{href:n.route("admin.download.edit",o.downloadItem.id),class:"flex items-center text-sm hover:bg-gray-100 text-yellow-500 px-4 py-2"},{default:u(()=>t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 px-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),x(" แก้ไข ",-1)])),_:1,__:[7]},8,["href"])]),e("li",null,[e("a",{href:"#",onClick:t[1]||(t[1]=r=>m(o.downloadItem)),class:"flex items-center text-sm hover:bg-gray-100 text-red-600 px-4 py-2"},t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 px-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),x(" ลบ ",-1)]))])])],2)]),e("div",F,[e("div",U,[o.downloadItem.status?(a(),c("svg",R,t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)]))):(a(),c("svg",W,t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])))]),e("div",G,[e("div",J,[e("div",K,w(o.index)+" :",1),e("div",P,w(o.downloadItem.title),1)]),e("div",Q,[e("a",{href:o.downloadItem.link,target:"_blank",class:"hover:underline"},w(o.downloadItem.link),9,X)]),e("div",Y,"เลขลำดับ : "+w(o.downloadItem.order_number),1)]),e("div",Z,[e("div",ee,[e("button",{id:"dropdownButton",onClick:t[2]||(t[2]=r=>s.value=!s.value),class:"block dropbtn text-gray-500 hover:bg-gray-100 focus:outline-hidden focus:ring-4 focus:ring-gray-200 rounded-lg text-sm p-1.5"},t[11]||(t[11]=[e("svg",{class:"w-6 h-6 dropbtn",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{class:"dropbtn",d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})],-1)])),e("div",{id:"dropdown",class:b([[s.value?"":"hidden"],"absolute dropdown-content -left-28 bg-white text-base z-10 list-none divide-y divide-gray-100 rounded-sm shadow-sm w-44"])},[e("ul",te,[e("li",null,[f(g(p),{href:n.route("admin.download.edit",o.downloadItem.id),class:"flex items-center text-sm hover:bg-gray-100 text-yellow-500 px-4 py-2"},{default:u(()=>t[12]||(t[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 px-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),x(" แก้ไข ",-1)])),_:1,__:[12]},8,["href"])]),e("li",null,[e("a",{href:"#",onClick:t[3]||(t[3]=r=>d.value=!0),class:"flex items-center text-sm hover:bg-gray-100 text-red-600 px-4 py-2"},t[13]||(t[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 px-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),x(" ลบ ",-1)]))])])],2)])])])]),(a(),y(I,{to:"body"},[f(H,{isModalOpen:d.value},{header:u(()=>t[14]||(t[14]=[e("div",{class:"text-gray-900 text-xl font-medium dark:text-white"}," คุณต้องการลบข้อมูลดาวน์โหลด ",-1)])),body:u(()=>[e("div",oe,[e("div",se,w(o.downloadItem.title),1)])]),footer:u(()=>[e("button",{onClick:t[4]||(t[4]=r=>m(o.downloadItem)),type:"button",class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-red-800"},"ลบ"),e("button",{onClick:t[5]||(t[5]=r=>d.value=!1),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600"},"ยกเลิก")]),_:1},8,["isModalOpen"])]))],64))}},le={class:"flex flex-col p-4 w-full"},ne={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-2 w-full border border-gray-200 rounded-md shadow-md items-baseline"},de={class:"flex space-x-2"},ie={class:"flex flex-col px-4 w-full"},ae={class:"flex justify-center md:justify-end mt-2 px-4"},ue={layout:B},ge=Object.assign(ue,{__name:"Index",props:{items:{type:Object,required:!0,default:{}},filters:{type:Object}},setup(o){let s=v(o.filters.search);return z(s,d=>{k.get(route("admin.download"),{search:d},{preserveState:!0,replace:!0})}),(d,l)=>(a(),c(h,null,[e("div",le,[e("div",ne,[l[1]||(l[1]=e("div",{class:"text-2xl font-bold"},"จัดการส่วนของดาวน์โหลด",-1)),$(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=i=>O(s)?s.value=i:s=i),class:"text rounded-md border-gray-400",placeholder:"ค้นหาจากชื่อหัวข้อ"},null,512),[[L,g(s)]])]),e("div",de,[f(g(p),{href:d.route("admin.download.create"),method:"get",as:"button",type:"button",class:"flex items-center px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded-sm cursor-pointer hover:bg-green-800"},{default:u(()=>l[2]||(l[2]=[e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1),e("div",null,"เพิ่ม",-1)])),_:1,__:[2]},8,["href"])])]),e("div",ie,[(a(!0),c(h,null,D(o.items.data,(i,m)=>(a(),y(re,{key:m,downloadItem:i,index:m+1},null,8,["downloadItem","index"]))),128))]),e("div",ae,[f(N,{pagination:o.items},null,8,["pagination"])])],64))}});export{ge as default};
