import{r as j,I as F,J as B,o as i,b as l,d as e,t as p,p as d,a as z,q as M,u as m,C as V,F as g,f as b,g as w,L}from"./app.e4791f8f.js";import{t as E}from"./style.47db6c00.js";const H={class:"flex flex-col p-4 w-full"},S={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-2 w-full border rounded-md shadow-md items-baseline"},I={class:"flex items-center text-2xl font-bold space-x-2"},N=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),$={class:"flex"},D=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),T=e("button",{class:"flex items-center mx-1 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2 hover:text-gray-900 focus:z-10"},[e("svg",{class:"h-5 w-5 text-red-500",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{stroke:"none",d:"M0 0h24v24H0z"}),d(),e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d(),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]),d(" \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 ")],-1),q={key:0,class:"col-span-6"},A={class:"my-1"},O={class:"flex items-center flex-col sm:flex-row justify-between border border-indigo-500 rounded-md"},P={class:"flex flex-col"},R={class:"p-2"},U=e("strong",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E44\u0E1F\u0E25\u0E4C : ",-1),J={class:"flex items-center m-2 sm:m-0"},G=["onClick"],K=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 hover:fill-current",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),Q=[K],W={class:"flex justify-center"},X=["src"],Y={class:"col-span-6"},Z={class:"my-1"},ee={class:"flex items-center flex-col sm:flex-row justify-between border border-indigo-500 rounded-md"},te={class:"flex flex-col"},se={class:"p-2"},oe=e("strong",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E44\u0E1F\u0E25\u0E4C : ",-1),ne={class:"flex items-center m-2 sm:m-0"},re=e("span",{class:"p-2 mt-2 text-sm cursor-pointer rounded-lg shadow-lg border text-white border-indigo-500 bg-blue-700 hover:bg-blue-800 hover:text-white"},"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E1F\u0E25\u0E4C",-1),ie=["id","onChange"],le=["onClick"],de=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 hover:fill-current",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),ae=[de],ce={key:0,class:"flex justify-center"},he=["src"],_e={__name:"EduContentEditor",props:{sub_header:{type:Object,required:!0}},setup(_){var x,v;const a=_;j(base_url);const r=F([]),c=B({id:a.sub_header.id,old_attachments:(v=(x=a.sub_header)==null?void 0:x.attach_files)!=null?v:[]}),y=()=>{r.push({name:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E1F\u0E25\u0E4C",size:0}),L(()=>{var t="file-"+(r.length-1);document.getElementById(t).click()})},h=(t,o)=>{t.splice(o,1)},k=(t,o,n)=>{let s=n.target.files[0];o.File=s,o.name=s.name,o.size=s.size,o.embedSrc=URL.createObjectURL(s),o.size>1024*1024*5&&(h(r,t),u("warning","\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E44\u0E1F\u0E25\u0E4C\u0E41\u0E19\u0E1A\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49","\u0E44\u0E1F\u0E25\u0E4C\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E43\u0E2B\u0E0D\u0E48\u0E40\u0E01\u0E34\u0E19\u0E44\u0E1B (> 5MB)")),s.type.match("application/pdf")||(h(r,t),u("warning","\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E44\u0E1F\u0E25\u0E4C\u0E41\u0E19\u0E1A\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49","\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E43\u0E2B\u0E49\u0E41\u0E19\u0E1A\u0E44\u0E1F\u0E25\u0E4C\u0E40\u0E09\u0E1E\u0E32\u0E30 PDF \u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19"))},u=(t,o,n)=>{E({title:o,description:n},{showIcon:!0,transition:"zoom",position:"top-right",type:t,timeout:3e3})},C=()=>{c.transform(t=>({...t,division_id:a.sub_header.division_id,atFiles:r.map(o=>o.File)})).post(route("admin.update_edu_branch_content",c.id),{preserveState:!1,onSuccess:()=>{u("success","\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",`\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A\u0E44\u0E1F\u0E25\u0E4C PDF ${a.sub_header.sub_header_name_th} \u0E40\u0E23\u0E35\u0E22\u0E1A\u0E23\u0E49\u0E2D\u0E22`)},onError:t=>{u("danger",t.msg,t.sysmsg)},onFinish:()=>{}})};return(t,o)=>(i(),l("div",H,[e("div",S,[e("div",I,[e("div",null,"\u0E07\u0E32\u0E19\u0E01\u0E32\u0E23\u0E40\u0E23\u0E35\u0E22\u0E19\u0E01\u0E32\u0E23\u0E2A\u0E2D\u0E19 ("+p(_.sub_header.sub_header_name_th)+")",1),e("button",{onClick:y,class:"flex add items-center text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-3 py-2 text-center"},[N,d(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E44\u0E1F\u0E25\u0E4C\u0E41\u0E19\u0E1A ")])]),e("div",$,[e("button",{onClick:C,class:"flex items-center mx-1 text-emerald-500 bg-white hover:bg-emerald-100 focus:ring-4 focus:ring-emerald-300 rounded-lg border border-emerald-200 text-sm font-medium px-5 py-2 hover:text-emerald-900 focus:z-10"},[D,d(" \u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01 ")]),z(m(V),{href:t.route("admin.show_branch_main_menu",a.sub_header.division_id),method:"post",as:"button",type:"button","preserve-scroll":""},{default:M(()=>[T]),_:1},8,["href"])])]),m(c).old_attachments?(i(),l("div",q,[e("ul",null,[(i(!0),l(g,null,b(m(c).old_attachments,(n,s)=>(i(),l("li",{key:s},[e("div",A,[e("div",O,[e("div",P,[e("div",R,[U,d(p(n.orig_name),1)])]),e("div",J,[e("a",{href:"#",onClick:f=>h(m(c).old_attachments,s),class:"flex items-center text-sm text-red-600 px-2 py-2"},Q,8,G)])]),e("div",W,[e("embed",{src:`${_.sub_header.json_array_field_transform[s].url}`,width:"800px",height:"800px"},null,8,X)])])]))),128))])])):w("",!0),e("div",Y,[e("ul",null,[(i(!0),l(g,null,b(r,(n,s)=>(i(),l("li",{key:s},[e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[oe,d(p(n.name),1)])]),e("div",ne,[e("label",null,[re,e("input",{id:"file-"+s,type:"file",accept:".pdf",onChange:f=>k(s,n,f),style:{display:"none"}},null,40,ie)]),e("a",{href:"#",onClick:f=>h(r,s),class:"flex items-center text-sm text-red-600 px-2 py-2"},ae,8,le)])]),r[s].name!=="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E1F\u0E25\u0E4C"?(i(),l("div",ce,[e("embed",{src:n.embedSrc,width:"800px",height:"800px"},null,8,he)])):w("",!0)])]))),128))])])]))}};export{_e as default};
