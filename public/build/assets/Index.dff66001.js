import{r as _,o as n,b as r,d as e,a,s as g,u as l,n as d,q as U,D as x,F as b,f as v,t as i,a7 as S,J as j}from"./app.d39ae179.js";import{_ as y}from"./Paginations.93e0f1a7.js";import{t as z}from"./style.23244c32.js";import{S as D}from"./sweetalert2.all.fbcd4dea.js";import{r as I,a as N,b as T}from"./TrashIcon.c38e0f9c.js";const F={class:"flex flex-col p-4 w-full"},V={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-2 w-full border rounded-md shadow-md items-baseline"},q=e("div",{class:"text-2xl font-bold"},"\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19",-1),E={class:""},J={class:"flex items-center px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded cursor-pointer hover:bg-green-800"},O={class:"grid grid-cols-1 gap-2"},A={class:"grid grid-cols-12"},H={class:"col-span-10 md:col-span-11"},L={class:"flex items-center space-x-2"},W=e("div",{class:"font-bold"},"\u0E2A\u0E16\u0E32\u0E19\u0E30 :",-1),G={class:"flex items-center justify-between"},K={class:"flex items-center space-x-2"},M=e("div",{class:"font-bold"},"\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49 :",-1),P={key:0,class:"text-sm"},Q={key:1,class:"text-sm"},R={class:"flex items-center space-x-2"},X=e("div",{class:"font-bold"},"\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48 :",-1),Y={class:"col-span-2 md:col-span-1"},Z={class:"flex flex-col space-y-2 items-end sm:space-y-1 sm:items-center"},ee=["onClick"],te={layout:S},le=Object.assign(te,{__name:"Index",props:{users:{type:Object,required:!0,default:{}}},setup(c){const u=_(null),m=_(null),f=_(null),p=(t,o,s)=>{z({title:o,description:s},{showIcon:!0,transition:"zoom",position:"top-right",type:t,timeout:3e3})},w=t=>t?"Active":"Disabled",k=t=>{u.value=t.id,m.value=`${t.person.fname_th} - ${t.person.lname_th}`,f.value=t.person.image_url,D.fire({title:"\u0E04\u0E38\u0E13\u0E41\u0E19\u0E48\u0E43\u0E08\u0E27\u0E48\u0E32\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E25\u0E1A\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19?",text:`${m.value}`,imageUrl:f.value,imageWidth:80,imageHeight:80,showCancelButton:!0,confirmButtonColor:"#b91c1c",cancelButtonColor:"#6b7280",confirmButtonText:"\u0E25\u0E1A",cancelButtonText:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01"}).then(o=>{o.isConfirmed&&$()})},$=()=>{j.delete(route("admin.user.delete",u.value),{preserveState:!1,onSuccess:()=>{p("success","\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08","\u0E25\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19 \u0E40\u0E23\u0E35\u0E22\u0E1A\u0E23\u0E49\u0E2D\u0E22")},onError:t=>{let o="";for(let s in t)o=o+`- ${t[s]}<br/>`;p("danger","\u0E1E\u0E1A\u0E1B\u0E31\u0E0D\u0E2B\u0E32",o)}}),u.value=null,m.value=null,f.value=null};return(t,o)=>(n(),r("div",F,[e("div",V,[q,e("div",E,[a(l(x),{href:t.route("admin.user.create"),method:"get",as:"button",type:"button"},{default:g(()=>[e("button",J,[a(l(I),{class:d(["h-6 w-6 mr-2"])}),U(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19 ")])]),_:1},8,["href"])])]),a(y,{pagination:c.users,class:"mt-4 mb-4"},null,8,["pagination"]),e("div",O,[(n(!0),r(b,null,v(c.users.data,(s,B)=>(n(),r("div",{key:B,class:"p-4 rounded-md shadow bg-gradient-to-l from-sky-100 border-l-4 rounded-l-md border-l-blue-600"},[e("div",A,[e("div",H,[e("div",L,[W,e("div",{class:d(["text-sm italic font-medium tracking-wider rounded-lg bg-opacity-50 p-1",[s.status?"text-green-800 bg-green-200":"text-red-800 bg-red-200"]])},i(w(s.status)),3)]),e("div",G,[e("div",K,[M,s.person?(n(),r("div",P,i(s.person.title_th)+i(s.person.fname_th)+" "+i(s.person.lname_th),1)):(n(),r("div",Q,"Unknown-User"))])]),e("div",R,[X,(n(!0),r(b,null,v(s.user_roles,(h,C)=>(n(),r("div",{key:C,class:"text-sm"},i(h),1))),128))])]),e("div",Y,[e("div",Z,[a(l(x),{href:t.route("admin.user.edit",s.id),class:"flex items-center mx-1 text-orange-500 bg-white hover:bg-orange-100 focus:ring-4 focus:ring-orange-300 rounded-full border border-orange-200 text-sm font-medium px-2 py-2 hover:text-orange-900 focus:z-10"},{default:g(()=>[a(l(N),{class:d(["h-5 w-5"])})]),_:2},1032,["href"]),e("button",{onClick:h=>k(s),class:"flex items-center mx-1 text-red-500 bg-white hover:bg-red-200 focus:ring-4 focus:ring-red-300 rounded-full border border-red-200 text-sm font-medium px-2 py-2 hover:text-orange-900 focus:z-10"},[a(l(T),{class:d(["h-5 w-5"])})],8,ee)])])])]))),128))]),a(y,{pagination:c.users,class:"mt-4"},null,8,["pagination"])]))}});export{le as default};
