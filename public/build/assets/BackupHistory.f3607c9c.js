import{o,c as h,a as r,r as y,b as n,d as t,p as f,q as p,u as i,C as m,t as s,F as v,f as C,n as B,a7 as M}from"./app.f7c27d58.js";import{T as x}from"./ToggleSwitch.8c6b0302.js";import{d}from"./th.642c2efc.js";import{b as j}from"./buddhistEra.a8fc5300.js";import{_ as H}from"./Paginations.8fc0ed0e.js";import{r as $}from"./ReplyIcon.8392eb65.js";function _(e,c){return o(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})])}function g(e,c){return o(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])}function b(e,c){return o(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const D={class:"overflow-x-scroll"},O={class:"w-full border-collapse border border-slate-400"},L=t("thead",{class:"bg-gray-50 border-b-2 border-gray-200"},[t("tr",null,[t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"#"),t("th",{class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},"\u0E04\u0E33\u0E19\u0E33\u0E2B\u0E19\u0E49\u0E32/\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07"),t("th",{class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},"\u0E0A\u0E37\u0E48\u0E2D-\u0E2A\u0E01\u0E38\u0E25"),t("th",{class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E2A\u0E32\u0E02\u0E32/\u0E2B\u0E19\u0E48\u0E27\u0E22"),t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E2B\u0E31\u0E27\u0E2B\u0E19\u0E49\u0E32\u0E2B\u0E19\u0E48\u0E27\u0E22"),t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E25\u0E33\u0E14\u0E31\u0E1A"),t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E01\u0E32\u0E23\u0E41\u0E2A\u0E14\u0E07\u0E1C\u0E25"),t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E1C\u0E39\u0E49\u0E14\u0E33\u0E40\u0E19\u0E34\u0E19\u0E01\u0E32\u0E23"),t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2D\u0E31\u0E1E\u0E40\u0E14\u0E17"),t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25/\u0E40\u0E27\u0E2D\u0E23\u0E4C\u0E0A\u0E31\u0E48\u0E19")])],-1),z={class:"divide-y divide-gray-100"},T={class:"bg-gradient-to-r from-sky-50"},N={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},P={key:0,class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},U={key:1,class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},E={class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},F={class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},I={key:2,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},S={key:3,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},q={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},A={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},G={key:4,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},J={key:5,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},K={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},Q={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},R={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},W={key:0,class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},X={key:1,class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},Y={class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},Z={class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},V={key:2,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},tt={key:3,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},et={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},st={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},at={key:4,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},ot={key:5,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},rt={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},nt={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},it={__name:"PersonVersionInteractiveTable",props:{personCurrent:{type:Object,default:{}},personHistory:{type:Object,default:{}}},setup(e){d.extend(j),y(base_url);const c=l=>l.type==="a"||l.type==="b"||l.type==="z"&&l.group===1,w=l=>!!l;return(l,u)=>(o(),n("div",null,[t("div",D,[t("table",O,[L,t("tbody",z,[t("tr",T,[t("td",N,[f(" \u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19 "),r(i(m),{href:l.route("admin.person.view",{Person:e.personCurrent.id,fromHistoryPage:!0}),class:"flex items-center text-sm hover:bg-gray-100 text-green-700 px-4 py-1 tracking-wide"},{default:p(()=>[r(i(g),{class:"w-10 h-10 px-2 text-blue-700 cursor-pointer"})]),_:1},8,["href"])]),c(e.personCurrent)?(o(),n("td",P,s(e.personCurrent.rname_short_th),1)):(o(),n("td",U,s(e.personCurrent.title_th),1)),t("td",E,s(e.personCurrent.fname_th)+" "+s(e.personCurrent.lname_th),1),t("td",F,s(e.personCurrent.division.name_th),1),w(e.personCurrent.profiles.leader)?(o(),n("td",I,[r(i(_),{class:"h-6 w-6 text-green-700"})])):(o(),n("td",S,[r(i(b),{class:"h-6 w-6 text-red-700"})])),t("td",q,s(e.personCurrent.display_order),1),t("td",A,[r(x,{status:e.personCurrent.status,"onUpdate:status":u[0]||(u[0]=a=>e.personCurrent.status=a)},null,8,["status"])]),e.personCurrent.user_last_act_full_name?(o(),n("td",G,s(e.personCurrent.user_last_act_full_name),1)):(o(),n("td",J,s(e.personCurrent.user_last_act),1)),t("td",K,s(i(d)(e.personCurrent.updated_at).locale("th").format("D MMMM BBBB HH:mm:ss")),1),t("td",Q,s(i(d)(e.personCurrent.created_at).locale("th").format("D MMMM BBBB HH:mm:ss")),1)]),(o(!0),n(v,null,C(e.personHistory,a=>(o(),n("tr",{key:a.id,class:"bg-gradient-to-r from-red-50"},[t("td",R,[f(" LOG-ID : "+s(a.trace_log_id)+" ",1),r(i(m),{href:l.route("admin.person.view_version",a.id),class:"flex items-center text-sm hover:bg-gray-100 text-green-700 px-4 py-1 tracking-wide"},{default:p(()=>[r(i(g),{class:"w-10 h-10 px-2 text-blue-700 cursor-pointer"})]),_:2},1032,["href"])]),c(a)?(o(),n("td",W,s(a.rname_short_th),1)):(o(),n("td",X,s(a.title_th),1)),t("td",Y,s(a.fname_th)+" "+s(a.lname_th),1),t("td",Z,s(a.division.name_th),1),w(a.profiles.leader)?(o(),n("td",V,[r(i(_),{class:"h-6 w-6 text-green-700"})])):(o(),n("td",tt,[r(i(b),{class:"h-6 w-6 text-red-700"})])),t("td",et,s(a.display_order),1),t("td",st,[r(x,{status:a.status,"onUpdate:status":k=>a.status=k},null,8,["status","onUpdate:status"])]),a.user_last_act_full_name?(o(),n("td",at,s(a.user_last_act_full_name),1)):(o(),n("td",ot,s(a.user_last_act),1)),t("td",rt,s(i(d)(a.record_updated).locale("th").format("D MMMM BBBB HH:mm:ss")),1),t("td",nt,s(i(d)(a.created_at).locale("th").format("D MMMM BBBB HH:mm:ss")),1)]))),128))])])])]))}},lt={class:"flex flex-col px-2 py-1 w-full"},ct={class:"flex flex-row justify-between px-2 py-2 space-y-2 mt-2 mb-2 w-full border rounded-md shadow-md items-baseline"},dt=t("div",{class:"text-2xl font-bold"},"\u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25",-1),wt={class:"flex items-center px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded cursor-pointer hover:bg-green-800"},ft={class:"flex flex-col"},pt={class:"flex flex-col w-full mb-4"},mt={class:"flex justify-center md:justify-end mt-2 px-4"},ht={layout:M},yt=Object.assign(ht,{__name:"BackupHistory",props:{person:{type:Object,default:{}},person_versions:{type:Object,default:{}}},setup(e){return(c,w)=>(o(),n("div",lt,[t("div",ct,[dt,r(i(m),{href:c.route("admin.person"),method:"get",as:"button",type:"button",class:"px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded cursor-pointer hover:bg-green-800"},{default:p(()=>[t("button",wt,[r(i($),{class:B(["h-6 w-6 mr-2"])}),f(" \u0E01\u0E25\u0E31\u0E1A\u0E2B\u0E19\u0E49\u0E32\u0E1A\u0E38\u0E04\u0E04\u0E25\u0E32\u0E01\u0E23 ")])]),_:1},8,["href"])]),t("div",ft,[t("div",pt,[r(it,{personDetails:e.person,personCurrent:e.person,personHistory:e.person_versions.data},null,8,["personDetails","personCurrent","personHistory"])])]),t("div",mt,[r(H,{pagination:e.person_versions},null,8,["pagination"])])]))}});export{yt as default};
