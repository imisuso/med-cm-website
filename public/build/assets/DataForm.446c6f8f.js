import{r as u,I as z,J as V,o as l,b as c,d as e,t as g,a as v,q as y,p as h,u as p,C as w,e as B,v as D,F as N,f as S,g as k,a7 as T}from"./app.4369d9be.js";import{t as $}from"./style.b27b8f5c.js";const q={class:"flex flex-col p-4 w-full"},E={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-4 w-full border rounded-md shadow-md items-baseline"},I={class:"text-2xl font-bold"},M=e("div",{class:"text-gray-900 text-lg underline font-medium dark:text-white mb-4"}," \u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E42\u0E1B\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C ",-1),O={class:"shadow overflow-hidden sm:rounded-md"},P={class:"px-4 py-5 bg-white sm:p-6"},J={class:"grid grid-cols-6 gap-6 mb-6"},L={class:"col-span-6"},U=e("div",{class:"flex items-center justify-between"},[e("label",{for:"desc",class:"block text-sm font-medium text-gray-700"},"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14\u0E42\u0E1B\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C")],-1),W={class:"col-span-6"},A={class:"my-1"},G={class:"flex items-center flex-col sm:flex-row justify-between border border-indigo-500 rounded-md"},H={class:"flex flex-col"},K={class:"p-2"},Q=e("strong",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E44\u0E1F\u0E25\u0E4C : ",-1),R={class:"flex items-center m-2 sm:m-1"},X={class:"p-2 mt-2 text-sm cursor-pointer rounded-lg shadow-lg border text-white border-indigo-500 bg-blue-700 hover:bg-blue-800 hover:text-white"},Y=["id","accept","onChange"],Z={class:"flex flex-row mt-2 space-x-4"},ee={layout:T},oe=Object.assign(ee,{__name:"DataForm",props:{action:{type:String,require:!0,default:"insert"},poster:{type:Object}},setup(m){const a=m,d=u(null),b=u(!1),x=u(!1),_=u(!1),f=z([{name:"",size:0,label:"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E23\u0E39\u0E1B\u0E2B\u0E19\u0E49\u0E32\u0E1B\u0E01",accept:".jpg,.jpeg"},{name:"",size:0,label:"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E44\u0E1F\u0E25\u0E4C\u0E40\u0E19\u0E37\u0E49\u0E2D\u0E2B\u0E32",accept:".jpg,.jpeg,.pdf"}]);switch(a.action){case"insert":d.value="\u0E40\u0E1E\u0E34\u0E48\u0E21";break;case"update":d.value="\u0E41\u0E01\u0E49\u0E44\u0E02";break;case"delete":d.value="\u0E25\u0E1A";break}const r=V({id:a.poster?a.poster.id:null,desc:a.poster?a.poster.desc:null,cover:""}),i=(o,t,s)=>{$({title:t,description:s},{showIcon:!0,transition:"zoom",position:"top-right",type:o,timeout:3e3})},j=(o,t,s)=>{let n=s.target.files[0];t.File=n,t.name=n.name,t.size=n.size,t.size>1024*1024*2?(b.value=!1,i("warning","\u0E04\u0E33\u0E40\u0E15\u0E37\u0E2D\u0E19","\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E44\u0E1F\u0E25\u0E4C\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49 \u0E40\u0E19\u0E37\u0E48\u0E2D\u0E07\u0E08\u0E32\u0E01\u0E44\u0E1F\u0E25\u0E4C\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E21\u0E35\u0E02\u0E19\u0E32\u0E14\u0E43\u0E2B\u0E0D\u0E48\u0E01\u0E27\u0E48\u0E32 2MB")):b.value=!0,o===0?n.type.match("image/jp.*")?x.value=!0:(x.value=!1,i("warning","\u0E04\u0E33\u0E40\u0E15\u0E37\u0E2D\u0E19","\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E44\u0E1F\u0E25\u0E4C\u0E2B\u0E19\u0E49\u0E32\u0E1B\u0E01\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49 \u0E40\u0E19\u0E37\u0E48\u0E2D\u0E07\u0E08\u0E32\u0E01\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E43\u0E2B\u0E49\u0E41\u0E19\u0E1A\u0E44\u0E1F\u0E25\u0E4C\u0E40\u0E09\u0E1E\u0E32\u0E30 .jpg \u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19")):n.type.match("image/jp.*")||n.type.match("application/pdf")?_.value=!0:(_.value=!1,i("warning","\u0E04\u0E33\u0E40\u0E15\u0E37\u0E2D\u0E19","\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E44\u0E1F\u0E25\u0E4C\u0E40\u0E19\u0E37\u0E49\u0E2D\u0E2B\u0E32\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49 \u0E40\u0E19\u0E37\u0E48\u0E2D\u0E07\u0E08\u0E32\u0E01\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E43\u0E2B\u0E49\u0E41\u0E19\u0E1A\u0E44\u0E1F\u0E25\u0E4C\u0E40\u0E09\u0E1E\u0E32\u0E30 .jpg \u0E2B\u0E23\u0E37\u0E2D PDF \u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19"))},F=()=>{let o="";r.id||r.transform(t=>({...t,cover:f[0].File,content:f[1].File})).post(route("admin.poster.store"),{onSuccess:()=>{i("success","\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08","\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E42\u0E1B\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C \u0E40\u0E23\u0E35\u0E22\u0E1A\u0E23\u0E49\u0E2D\u0E22")},onError:t=>{for(let s in t)o=o+`- ${t[s]}<br/>`;i("danger","\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14",o)},onFinish:()=>{r.processing=!1}})};return(o,t)=>(l(),c("div",q,[e("div",E,[e("div",I,g(d.value)+"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E42\u0E1B\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C",1),v(p(w),{href:o.route("admin.poster"),method:"get",as:"button",type:"button",class:"px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded cursor-pointer hover:bg-green-800"},{default:y(()=>[h(" \u0E01\u0E25\u0E31\u0E1A\u0E2B\u0E19\u0E49\u0E32\u0E2B\u0E25\u0E31\u0E01 ")]),_:1},8,["href"])]),M,e("div",O,[e("div",P,[e("fieldset",null,[e("div",J,[e("div",L,[U,B(e("input",{type:"text",id:"desc","onUpdate:modelValue":t[0]||(t[0]=s=>p(r).desc=s),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[D,p(r).desc,void 0,{trim:!0}]])]),e("ul",W,[(l(!0),c(N,null,S(f,(s,n)=>(l(),c("li",{key:n},[e("div",A,[e("div",G,[e("div",H,[e("div",K,[Q,h(g(s.name),1)])]),e("div",R,[e("label",null,[e("span",X,g(s.label),1),e("input",{id:"file-"+n,type:"file",accept:s.accept,onChange:C=>j(n,s,C),style:{display:"none"}},null,40,Y)])])])])]))),128))])])])])]),e("div",Z,[m.action==="insert"?(l(),c("button",{key:0,type:"button",onClick:F,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A")):k("",!0),m.action==="update"?(l(),c("button",{key:1,type:"button",onClick:s=>!0,class:"text-white bg-orange-700 hover:bg-orange-800 focus:ring-4 focus:ring-orange-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"\u0E41\u0E01\u0E49\u0E44\u0E02")):k("",!0),v(p(w),{href:o.route("admin.poster"),method:"get",as:"button",type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10"},{default:y(()=>[h(" \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 ")]),_:1},8,["href"])])]))}});export{oe as default};
