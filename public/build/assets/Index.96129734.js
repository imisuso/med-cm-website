import{r as d,D as M,N as L,o as c,c as _,k as n,e,w as $,G as B,u,a3 as z,j as m,L as b,T as A,t as l,d as w,f as F,m as V,F as I,l as y,z as N}from"./app.3c395ff5.js";import{_ as O}from"./Modal.8d3b3bb3.js";import{_ as S}from"./Paginations.aad71810.js";import{t as T}from"./style.c6e68366.js";const H={class:"flex flex-col p-4 w-full"},E={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-2 w-full border rounded-md shadow-md items-baseline"},U=e("div",{class:"text-2xl font-bold"},"\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E2A\u0E32\u0E02\u0E32 / \u0E2B\u0E19\u0E48\u0E27\u0E22\u0E07\u0E32\u0E19",-1),q={class:"flex space-x-2"},G=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1),R=e("div",null,"\u0E40\u0E1E\u0E34\u0E48\u0E21",-1),J=e("div",{class:"text-gray-900 text-xl font-medium dark:text-white"}," \u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E25\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E02\u0E2D\u0E07 \u0E2A\u0E32\u0E02\u0E32/\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E07\u0E32\u0E19 ",-1),K={class:"flex flex-row justify-start items-center"},P=["src"],Q={class:"text-gray-900 text-md font-medium dark:text-white"},W=["src"],X={class:"flex w-full items-center justify-between ml-2"},Y={class:"flex items-baseline"},Z={class:"text-md mr-2"},ee={class:"text-md font-normal text-black dark:text-gray-400"},te={class:"text-gray-600 text-sm"},se={class:"text-gray-600"},oe={class:"flex flex-col space-y-2 items-end sm:space-y-0 sm:flex-row sm:items-center space-x-1 ml-2"},re=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),ne=["onClick"],ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),ae=[ie],fe={__name:"Index",props:{divisions:{type:Object,required:!0},filters:{type:Object}},setup(g){const p=g,k="/fallbackimage/default-blank-image.jpg",h=d(null),j=d(base_url),x=d(!1);let i=d(p.filters.search);const r=M({id:null,name_th:null});L(i,t=>{y.Inertia.get(route("admin.division"),{search:t},{preserveState:!0,replace:!0})});const v=(t,o,a)=>{T({title:o,description:a},{showIcon:!0,transition:"zoom",position:"top-right",type:t,timeout:3e3})},f=t=>{x.value=t,t||r.reset()},C=t=>{h.value=t.image?t.image_url:`${j.value}${k}`,r.id=t.id,r.name_th=t.name_th,f(!0)},D=()=>{y.Inertia.delete(route("admin.division.delete",r.id),{preserveState:!0,onSuccess:()=>{v("success","\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08","\u0E25\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 \u0E2A\u0E32\u0E02\u0E32/\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E07\u0E32\u0E19 \u0E40\u0E23\u0E35\u0E22\u0E1A\u0E23\u0E49\u0E2D\u0E22")},onError:t=>{let o="";for(let a in t)o=o+`- ${t[a]}<br/>`;v("danger","\u0E1E\u0E1A\u0E1B\u0E31\u0E0D\u0E2B\u0E32",o)},onFinish:()=>{r.processing=!1}}),f(!1)};return(t,o)=>{const a=N("AdminAppLayout");return c(),_(a,null,{default:n(()=>[e("div",H,[e("div",E,[U,$(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>z(i)?i.value=s:i=s),class:"text rounded-md border-gray-400",placeholder:"\u0E04\u0E49\u0E19\u0E2B\u0E32\u0E08\u0E32\u0E01\u0E0A\u0E37\u0E48\u0E2D\u0E2B\u0E19\u0E48\u0E27\u0E22/\u0E2A\u0E32\u0E02\u0E32"},null,512),[[B,u(i)]])]),e("div",q,[m(u(b),{href:t.route("admin.division.create"),method:"get",as:"button",type:"button",class:"flex items-center px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded cursor-pointer hover:bg-green-800"},{default:n(()=>[G,R]),_:1},8,["href"])]),(c(),_(A,{to:"body"},[m(O,{isModalOpen:x.value},{header:n(()=>[J]),body:n(()=>[e("div",K,[e("img",{src:h.value,alt:"",class:"h-20 w-20 rounded-full object-cover mr-4"},null,8,P),e("div",Q,l(u(r).name_th),1)])]),footer:n(()=>[e("button",{onClick:o[1]||(o[1]=s=>D()),type:"button",class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-red-800"},"\u0E25\u0E1A"),e("button",{onClick:o[2]||(o[2]=s=>f(!1)),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600"},"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01")]),_:1},8,["isModalOpen"])])),(c(!0),w(I,null,F(p.divisions.data,s=>(c(),w("div",{key:s.id,class:"flex flex-col items-center space-y-4 sm:flex-row w-full px-4 py-2 mb-4 mx-auto bg-gradient-to-l from-sky-100 rounded-lg shadow-md dark:bg-gray-800"},[e("div",null,[e("img",{src:`${s.image_url}`,class:"h-20 w-20 rounded-full object-cover mr-4"},null,8,W)]),e("div",X,[e("div",Y,[e("p",Z,l(s.division_id)+".",1),e("span",ee,[V(l(s.name_th)+" ",1),e("p",te,"("+l(s.name_en)+")",1),e("p",se,"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17 : "+l(s.division_type),1)])]),e("div",oe,[m(u(b),{href:t.route("admin.division.edit",s.id),class:"flex items-center mx-1 text-orange-500 bg-white hover:bg-orange-100 focus:ring-4 focus:ring-orange-300 rounded-full border border-orange-200 text-sm font-medium px-2 py-2 hover:text-orange-900 focus:z-10"},{default:n(()=>[re]),_:2},1032,["href"]),e("button",{onClick:le=>C(s),class:"flex items-center mx-1 text-red-500 bg-white hover:bg-red-200 focus:ring-4 focus:ring-red-300 rounded-full border border-red-200 text-sm font-medium px-2 py-2 hover:text-orange-900 focus:z-10"},ae,8,ne)])])]))),128)),m(S,{pagination:g.divisions},null,8,["pagination"])])]),_:1})}}};export{fe as default};
