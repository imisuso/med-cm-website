import{_ as S,r as d,u as C,c as a,o as u,a as s,e as v,t as j,f as x,g as y,b as i,l as w,w as r,v as g,C as h,d as _}from"./app-DgvnGo_H.js";import{t as q}from"./style-B4-viUW5.js";const F={class:"flex flex-col p-4 w-full"},z={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-2 w-full border border-gray-200 rounded-md shadow-md items-baseline"},B={class:"text-2xl font-bold"},D={class:"flex flex-col border rounded-lg shadow-lg p-4"},M={class:"mt-2 flex items-center"},N={class:"inline-block h-20 w-20 rounded-full overflow-hidden bg-gray-100"},$=["src"],E=["src"],I={class:"flex flex-col w-24 items-center mx-2 px-2 bg-white text-blue-400 rounded-lg shadow-lg tracking-wide uppercase border border-blue-400 cursor-pointer hover:bg-blue-400 hover:text-white"},O={class:"grid grid-cols-6 gap-2 md:gap-6 mt-6 mb-6"},R={class:"py-3"},A={class:"mt-4 space-y-4"},L={class:"flex items-center"},T=["checked"],H={class:"flex items-center"},W=["checked"],G={class:"flex flex-row mt-2 space-x-4"},J={layout:S},Q=Object.assign(J,{__name:"DataForm",props:{action:{type:String,require:!0,default:"insert"},division:{type:Object}},setup(f){const n=f,m=d(null),k=d(base_url),p=n.division?d(n.division.image_url):d(null),V=n.division?d(n.division.image):d(null);switch(n.action){case"insert":m.value="เพิ่ม";break;case"edit":m.value="แก้ไข";break;case"delete":m.value="ลบ";break}const t=C({id:n.division?n.division.id:null,display_order:n.division?n.division.display_order:999,division_id:n.division?n.division.division_id:null,type:n.division?n.division.type:null,name_th:n.division?n.division.name_th:null,name_en:n.division?n.division.name_en:null,image:null}),c=(l,e,o)=>{q({title:e,description:o},{showIcon:!0,transition:"zoom",position:"top-right",type:l,timeout:3e3})},b=()=>{let l="";t.id?t.transform(e=>({...e,oldimage:V.value})).post(route("admin.division.update",t.id),{_method:"patch",preserveState:!1,preserveScroll:!0,onSuccess:()=>{c("success","สำเร็จ","แก้ไขข้อมูล สาขา/หน่วยงาน เรียบร้อย")},onError:e=>{for(let o in e)l=l+`- ${e[o]}<br/>`;c("danger","พบข้อผิดพลาด",l)},onFinish:()=>{t.processing=!1}}):t.post(route("admin.division.store"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{c("success","สำเร็จ","จัดเก็บข้อมูล สาขา/หน่วยงาน เรียบร้อย")},onError:e=>{for(let o in e)l=l+`- ${e[o]}<br/>`;c("danger","พบข้อผิดพลาด",l)},onFinish:()=>{t.processing=!1}})},U=l=>{const e=l.target.files[0];e?p.value=URL.createObjectURL(e):p.value=""};return(l,e)=>(u(),a("div",F,[s("div",z,[s("div",B,j(m.value)+"สาขา / หน่วยงาน",1),v(i(w),{href:l.route("admin.division"),method:"get",as:"button",type:"button",class:"px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded-sm cursor-pointer hover:bg-green-800"},{default:x(()=>e[7]||(e[7]=[y(" กลับหน้าหลัก ",-1)])),_:1,__:[7]},8,["href"])]),e[19]||(e[19]=s("div",{class:"text-gray-900 text-lg underline font-medium dark:text-white mb-4"}," รายละเอียดข้อมูลของ สาขา/หน่วยงาน ",-1)),s("div",D,[s("div",null,[e[10]||(e[10]=s("label",{class:"block text-sm font-medium text-gray-700"}," รูปสาขา/หน่วยงาน ",-1)),s("div",M,[s("span",N,[i(p)?(u(),a("img",{key:1,src:i(p),class:"h-20 w-20 rounded-full"},null,8,E)):(u(),a("img",{key:0,src:`${k.value}/fallbackimage/default-blank-image.jpg`,class:"h-20 w-20 rounded-full"},null,8,$))]),s("label",I,[e[8]||(e[8]=s("svg",{class:"w-6 h-6",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[s("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})],-1)),e[9]||(e[9]=s("span",{class:"mt-2 text-base leading-normal"},"เลือกรูป",-1)),s("input",{type:"file",onInput:e[0]||(e[0]=o=>i(t).image=o.target.files[0]),onChange:U,class:"hidden"},null,32)])])]),s("div",O,[e[11]||(e[11]=s("label",{for:"division_id",class:"col-span-6 md:col-span-2 mr-2 self-end"},"ลำดับแสดงผล :",-1)),r(s("input",{type:"number",id:"division_id","onUpdate:modelValue":e[1]||(e[1]=o=>i(t).display_order=o),required:"true",class:"col-span-6 md:col-span-4 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-xs sm:text-sm border-gray-300 rounded-md"},null,512),[[g,i(t).display_order]]),e[12]||(e[12]=s("label",{for:"division_id",class:"col-span-6 md:col-span-2 mr-2 self-end"},"เลข สาขา/หน่วยงาน :",-1)),r(s("input",{type:"number",id:"division_id","onUpdate:modelValue":e[2]||(e[2]=o=>i(t).division_id=o),required:"true",class:"col-span-6 md:col-span-4 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-xs sm:text-sm border-gray-300 rounded-md"},null,512),[[g,i(t).division_id]]),e[13]||(e[13]=s("label",{for:"name_thai",class:"col-span-6 md:col-span-2 mr-2 self-end"},"ชื่อ สาขา/หน่วยงาน (ไทย) :",-1)),r(s("input",{type:"text",id:"name_thai","onUpdate:modelValue":e[3]||(e[3]=o=>i(t).name_th=o),required:"true",class:"col-span-6 md:col-span-4 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-xs sm:text-sm border-gray-300 rounded-md"},null,512),[[g,i(t).name_th]]),e[14]||(e[14]=s("label",{for:"name_eng",class:"col-span-6 md:col-span-2 mr-2 self-end"},"ชื่อ สาขา/หน่วยงาน (อังกฤษ) :",-1)),r(s("input",{type:"text",id:"name_eng","onUpdate:modelValue":e[4]||(e[4]=o=>i(t).name_en=o),required:"true",class:"col-span-6 md:col-span-4 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-xs sm:text-sm border-gray-300 rounded-md"},null,512),[[g,i(t).name_en]])]),s("fieldset",R,[e[17]||(e[17]=s("div",null,[s("legend",{class:"text-base font-medium text-gray-900"},"ประเภท :"),s("p",{class:"text-sm text-gray-500"},"กรุณาเลือกระหว่าง สาขา หรือ หน่วยงาน")],-1)),s("div",A,[s("div",L,[r(s("input",{id:"branch",type:"radio",value:"b","onUpdate:modelValue":e[5]||(e[5]=o=>i(t).type=o),checked:i(t).type==="b",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"},null,8,T),[[h,i(t).type]]),e[15]||(e[15]=s("label",{for:"branch",class:"ml-3 block text-sm font-medium text-gray-700"}," สาขา ",-1))]),s("div",H,[r(s("input",{id:"unit",type:"radio",value:"u","onUpdate:modelValue":e[6]||(e[6]=o=>i(t).type=o),checked:i(t).type==="u",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"},null,8,W),[[h,i(t).type]]),e[16]||(e[16]=s("label",{for:"unit",class:"ml-3 block text-sm font-medium text-gray-700"}," หน่วยงาน ",-1))])])])]),s("div",G,[f.action==="insert"?(u(),a("button",{key:0,type:"button",onClick:b,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"จัดเก็บ")):_("",!0),f.action==="edit"?(u(),a("button",{key:1,type:"button",onClick:b,class:"text-white bg-orange-700 hover:bg-orange-800 focus:ring-4 focus:ring-orange-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"แก้ไข")):_("",!0),v(i(w),{href:l.route("admin.division"),method:"get",as:"button",type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10"},{default:x(()=>e[18]||(e[18]=[y(" ยกเลิก ",-1)])),_:1,__:[18]},8,["href"])])]))}});export{Q as default};
