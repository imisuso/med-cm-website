import{_ as U,r as p,c as n,o as r,a as t,e as l,f as _,g as j,b as a,n as d,l as b,F as v,h,t as i,j as S}from"./app-BrrKJ-Yp.js";import{_ as y}from"./Paginations-LqJLmySb.js";import{r as z,a as I,b as N}from"./TrashIcon-l49WjMY5.js";import{t as T}from"./style-Cu4i-aeD.js";import{S as D}from"./sweetalert2-z6gKu1nJ.js";const F={class:"flex flex-col p-4 w-full"},V={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-2 w-full border border-gray-200 rounded-md shadow-md items-baseline"},E={class:""},O={class:"flex items-center px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded-sm cursor-pointer hover:bg-green-800"},q={class:"grid grid-cols-1 gap-2"},A={class:"grid grid-cols-12"},H={class:"col-span-10 md:col-span-11"},L={class:"flex items-center space-x-2"},W={class:"flex items-center justify-between"},G={class:"flex items-center space-x-2"},J={key:0,class:"text-sm"},K={key:1,class:"text-sm"},M={class:"flex items-center space-x-2"},P={class:"col-span-2 md:col-span-1"},Q={class:"flex flex-col space-y-2 items-end sm:space-y-1 sm:items-center"},R=["onClick"],X={layout:U},oe=Object.assign(X,{__name:"Index",props:{users:{type:Object,required:!0,default:{}}},setup(c){const u=p(null),m=p(null),f=p(null),g=(s,e,o)=>{T({title:e,description:o},{showIcon:!0,transition:"zoom",position:"top-right",type:s,timeout:3e3})},w=s=>s?"Active":"Disabled",k=s=>{u.value=s.id,m.value=`${s.person.fname_th} - ${s.person.lname_th}`,f.value=s.person.image_url,D.fire({title:"คุณแน่ใจว่าต้องการลบผู้ใช้งาน?",text:`${m.value}`,imageUrl:f.value,imageWidth:80,imageHeight:80,showCancelButton:!0,confirmButtonColor:"#b91c1c",cancelButtonColor:"#6b7280",confirmButtonText:"ลบ",cancelButtonText:"ยกเลิก"}).then(e=>{e.isConfirmed&&$()})},$=()=>{S.delete(route("admin.user.delete",u.value),{preserveState:!1,onSuccess:()=>{g("success","สำเร็จ","ลบข้อมูลผู้ใช้งาน เรียบร้อย")},onError:s=>{let e="";for(let o in s)e=e+`- ${s[o]}<br/>`;g("danger","พบปัญหา",e)}}),u.value=null,m.value=null,f.value=null};return(s,e)=>(r(),n("div",F,[t("div",V,[e[1]||(e[1]=t("div",{class:"text-2xl font-bold"},"จัดการผู้ใช้งาน",-1)),t("div",E,[l(a(b),{href:s.route("admin.user.create"),method:"get",as:"button",type:"button"},{default:_(()=>[t("button",O,[l(a(z),{class:d(["h-6 w-6 mr-2"])}),e[0]||(e[0]=j(" เพิ่มผู้ใช้งาน ",-1))])]),_:1},8,["href"])])]),l(y,{pagination:c.users,class:"mt-4 mb-4"},null,8,["pagination"]),t("div",q,[(r(!0),n(v,null,h(c.users.data,(o,B)=>(r(),n("div",{key:B,class:"p-4 rounded-md shadow-sm bg-linear-to-l from-sky-100 border-l-4 rounded-l-md border-l-blue-600"},[t("div",A,[t("div",H,[t("div",L,[e[2]||(e[2]=t("div",{class:"font-bold"},"สถานะ :",-1)),t("div",{class:d(["text-sm italic font-medium tracking-wider rounded-lg p-1",[o.status?"text-green-800 bg-green-200":"text-red-800 bg-red-200"]])},i(w(o.status)),3)]),t("div",W,[t("div",G,[e[3]||(e[3]=t("div",{class:"font-bold"},"ผู้ใช้ :",-1)),o.person?(r(),n("div",J,i(o.person.title_th)+i(o.person.fname_th)+" "+i(o.person.lname_th),1)):(r(),n("div",K,"Unknown-User"))])]),t("div",M,[e[4]||(e[4]=t("div",{class:"font-bold"},"หน้าที่ :",-1)),(r(!0),n(v,null,h(o.user_roles,(x,C)=>(r(),n("div",{key:C,class:"text-sm"},i(x),1))),128))])]),t("div",P,[t("div",Q,[l(a(b),{href:s.route("admin.user.edit",o.id),class:"flex items-center mx-1 text-orange-500 bg-white hover:bg-orange-100 focus:ring-4 focus:ring-orange-300 rounded-full border border-orange-200 text-sm font-medium px-2 py-2 hover:text-orange-900 focus:z-10"},{default:_(()=>[l(a(I),{class:d(["h-5 w-5"])})]),_:2},1032,["href"]),t("button",{onClick:x=>k(o),class:"flex items-center mx-1 text-red-500 bg-white hover:bg-red-200 focus:ring-4 focus:ring-red-300 rounded-full border border-red-200 text-sm font-medium px-2 py-2 hover:text-orange-900 focus:z-10"},[l(a(N),{class:d(["h-5 w-5"])})],8,R)])])])]))),128))]),l(y,{pagination:c.users,class:"mt-4"},null,8,["pagination"])]))}});export{oe as default};
