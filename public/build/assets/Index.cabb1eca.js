import{C as k,b as I,r as f,G as j,a6 as S,o as a,d as r,e,j as v,k as D,u as d,L as V,w as c,I as B,a7 as h,F as u,f as g,t as C,g as N,c as $,N as A,O as F,a4 as M,l as E,m as L}from"./app.fed41d01.js";import"./th.1f659ac5.js";import{_ as O}from"./AnnounceItemInteractiveCardList.54395a1f.js";import{_ as U}from"./Paginations.519ae810.js";import{D as z}from"./DivisionService.68048366.js";import{t as T}from"./style.0169f4d0.js";import"./buddhistEra.db608615.js";import"./Modal.99d1eb3e.js";const i=l=>(A("data-v-4a0d5c62"),l=l(),F(),l),q={class:"flex flex-col p-4 w-full"},G={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-2 w-full border rounded-md shadow-md items-baseline"},H=i(()=>e("div",{class:"text-2xl font-bold"},"\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E02\u0E48\u0E32\u0E27\u0E1B\u0E23\u0E30\u0E01\u0E32\u0E28",-1)),P=i(()=>e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1)),J=i(()=>e("div",null,"\u0E40\u0E1E\u0E34\u0E48\u0E21",-1)),K={class:"mt-0 mb-2 md:col-span-2"},Q={class:"shadow overflow-hidden sm:rounded-md"},R={class:"px-4 py-5 bg-white sm:p-6"},W={class:"grid grid-cols-6 gap-2"},X={class:"col-span-6"},Y=i(()=>e("label",{for:"filter_topic",class:"block text-sm font-medium text-gray-700"},"\u0E2B\u0E31\u0E27\u0E02\u0E49\u0E2D\u0E02\u0E48\u0E32\u0E27",-1)),Z={key:0,class:"col-span-6 sm:col-span-3"},ee=i(()=>e("label",{for:"division_selected",class:"block text-sm font-medium text-gray-700"},"\u0E2A\u0E32\u0E02\u0E32/\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E07\u0E32\u0E19",-1)),te=i(()=>e("option",{value:"0"},"\u0E17\u0E38\u0E01\u0E2A\u0E32\u0E02\u0E32/\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E07\u0E32\u0E19",-1)),oe=["value"],se={class:"col-span-6 sm:col-span-3"},ie=i(()=>e("label",{for:"division_selected",class:"block text-sm font-medium text-gray-700"},"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E1B\u0E23\u0E30\u0E01\u0E32\u0E28",-1)),ne=i(()=>e("option",{value:"all"},"\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14",-1)),de=i(()=>e("option",{value:"alive"},"\u0E1B\u0E23\u0E30\u0E01\u0E32\u0E28\u0E17\u0E35\u0E48\u0E22\u0E31\u0E07\u0E44\u0E21\u0E48\u0E2B\u0E21\u0E14\u0E2D\u0E32\u0E22\u0E38\u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19",-1)),le=i(()=>e("option",{value:"expire"},"\u0E1B\u0E23\u0E30\u0E01\u0E32\u0E28\u0E17\u0E35\u0E48\u0E2B\u0E21\u0E14\u0E2D\u0E32\u0E22\u0E38\u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19",-1)),ae=[ne,de,le],re=i(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),ce=L(" \u0E04\u0E49\u0E19\u0E2B\u0E32 "),ue=[re,ce],pe={class:"flex justify-center md:justify-end mt-2 px-4"},_e={layout:M},me=Object.assign(_e,{__name:"Index",props:{announces:{type:Object,required:!0,default:{}},fdivision_selected:{type:Number}},setup(l){const p=l;I(()=>{x.value.listAll().then(s=>{_.value=s})});const x=f(new z),_=f([]),n=j({ftopic:null,fexpire_type:"all",fdivision_selected:p.fdivision_selected?p.fdivision_selected:S().props.value.auth.division_id}),b=(s,o,t)=>{T({title:o,description:t},{showIcon:!0,transition:"zoom",position:"top-right",type:s,timeout:3e3})},w=()=>{n.post(route("admin.announce"),{preserveState:!0,replace:!0,onError:s=>{let o="";for(let t in s)o=o+`- ${s[t]}<br/>`;b("info","\u0E02\u0E49\u0E2D\u0E41\u0E19\u0E30\u0E19\u0E33",o)},onFinish:()=>{n.processing=!1}})},y=s=>{E.Inertia.get(route("admin.announce.edit",s.id),{},{preserveState:!0,replace:!0})};return(s,o)=>(a(),r(u,null,[e("div",q,[e("div",G,[H,v(d(V),{href:s.route("admin.announce.create"),data:{fdivision_selected:d(n).fdivision_selected},method:"get",as:"button",type:"button",class:"flex items-center px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded cursor-pointer hover:bg-green-800"},{default:D(()=>[P,J]),_:1},8,["href","data"])]),e("div",K,[e("div",Q,[e("div",R,[e("div",W,[e("div",X,[Y,c(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>d(n).ftopic=t),id:"filter_topic",placeholder:"\u0E04\u0E49\u0E19\u0E2B\u0E32\u0E08\u0E32\u0E01\u0E2B\u0E31\u0E27\u0E02\u0E49\u0E2D\u0E02\u0E48\u0E32\u0E27",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[B,d(n).ftopic]])]),s.$page.props.auth.abilities.includes("view_all_content")?(a(),r("div",Z,[ee,c(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>d(n).fdivision_selected=t),id:"division_selected",class:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[te,(a(!0),r(u,null,g(_.value,(t,m)=>(a(),r("option",{key:m,value:t.division_id},C(t.name_th),9,oe))),128))],512),[[h,d(n).fdivision_selected]])])):N("",!0),e("div",se,[ie,c(e("select",{"onUpdate:modelValue":o[2]||(o[2]=t=>d(n).fexpire_type=t),id:"division_selected",class:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},ae,512),[[h,d(n).fexpire_type]])])])]),e("div",{class:"px-4 py-1 bg-gray-50 text-left sm:px-6"},[e("button",{type:"button",onClick:w,class:"flex items-center justify-center py-1 px-3 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},ue)])])]),(a(!0),r(u,null,g(l.announces.data,t=>(a(),$(O,{key:t.id,announceDetails:t,typeDetail:"list",onEditAnnounce:m=>y(t)},null,8,["announceDetails","onEditAnnounce"]))),128))]),e("div",pe,[v(U,{pagination:l.announces},null,8,["pagination"])])],64))}});var ke=k(me,[["__scopeId","data-v-4a0d5c62"]]);export{ke as default};
