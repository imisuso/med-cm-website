import{o as n,c as x,a as l,r as f,K as P,b as a,d as o,s as S,u as i,e as _,a9 as D,F as h,f as v,N as O,n as y,x as g,a5 as V,h as F,L as N,t as T}from"./app.480ca58d.js";import{_ as $}from"./PersonInteractiveCardList.f671503d.js";import{S as q}from"./sweetalert2.all.15c09fe3.js";import{P as L}from"./PersonService.b1c8b200.js";import{t as j}from"./style.0ae9805a.js";import{r as z}from"./ReplyIcon.15a13b48.js";import"./ToggleSwitch.4e4cf700.js";/* empty css                                                                 */function A(d,c){return n(),x("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})])}const E={class:"flex flex-col p-4 w-full"},I={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-2 w-full border rounded-md shadow-md items-baseline"},M=o("div",{class:"text-2xl font-bold"},"\u0E40\u0E23\u0E35\u0E22\u0E07\u0E01\u0E32\u0E23\u0E41\u0E2A\u0E14\u0E07\u0E1C\u0E25\u0E1A\u0E38\u0E04\u0E04\u0E25\u0E32\u0E01\u0E23",-1),H={class:"flex items-center px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded cursor-pointer hover:bg-green-800"},K=g(" \u0E01\u0E25\u0E31\u0E1A\u0E44\u0E1B\u0E2B\u0E19\u0E49\u0E32\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E1A\u0E38\u0E04\u0E04\u0E25\u0E32\u0E01\u0E23 "),U={class:"mt-0 mb-2 md:col-span-2"},G={class:"shadow overflow-hidden sm:rounded-md"},J={class:"px-4 py-5 bg-white sm:p-6"},Q={class:"grid grid-cols-6 gap-3"},R={class:"col-span-6 sm:col-span-6"},W=o("label",{for:"person_types",class:"block text-sm font-medium text-gray-700"},"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E1A\u0E38\u0E04\u0E04\u0E25\u0E32\u0E01\u0E23:",-1),X=["value"],Y={class:"flex flex-col sm:flex-row"},Z=g(" \u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01 "),ee={class:"flex flex-col w-full"},oe={layout:V},ue=Object.assign(oe,{__name:"PersonOrder",props:{person_types:{type:Array,required:!0},division_id:{type:Number,required:!0},division_slug:{type:String,required:!0}},setup(d){const c=d,b=f(new L),r=f([]),u=P({type:null}),m=(s,t,e)=>{j({title:t,description:e},{showIcon:!0,transition:"zoom",position:"top-right",type:s,timeout:3e3})},w=()=>{q.fire({title:"\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E40\u0E23\u0E35\u0E22\u0E07\u0E25\u0E33\u0E14\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E41\u0E2A\u0E14\u0E07\u0E1C\u0E25\u0E1A\u0E38\u0E04\u0E25\u0E32\u0E01\u0E23?",icon:"question",showCancelButton:!0,confirmButtonColor:"#1e40af",cancelButtonColor:"#6b7280",confirmButtonText:"\u0E15\u0E01\u0E25\u0E07",cancelButtonText:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01"}).then(s=>{s.isConfirmed&&C()})},k=()=>{b.value.listPersonByDivisionAndType(c.division_id,u.type).then(s=>{r.value=s})},B=s=>{r.value=r.value.sort((t,e)=>e.profiles.leader-t.profiles.leader||t.display_order-e.display_order)},C=()=>{F.Inertia.post(route("admin.person.update_display_order"),{person_list:r.value,division_slug:c.division_slug},{onSuccess:()=>{m("success","\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08","\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E01\u0E32\u0E23\u0E40\u0E23\u0E35\u0E22\u0E07\u0E25\u0E33\u0E14\u0E31\u0E1A\u0E40\u0E23\u0E35\u0E22\u0E1A\u0E23\u0E49\u0E2D\u0E22")},onError:s=>{let t="";for(let e in s)t=t+`- ${s[e]}<br/>`;m("danger","\u0E1E\u0E1A\u0E1B\u0E31\u0E0D\u0E2B\u0E32",t)},onFinish:()=>{}})};return(s,t)=>(n(),a("div",E,[o("div",I,[M,l(i(N),{href:s.route("admin.person"),method:"get",as:"button",type:"button"},{default:S(()=>[o("button",H,[l(i(z),{class:y(["h-6 w-6 mr-2"])}),K])]),_:1},8,["href"])]),o("div",U,[o("div",G,[o("div",J,[o("div",Q,[o("div",R,[W,_(o("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>i(u).type=e),onChange:k,id:"person_types",class:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[(n(!0),a(h,null,v(d.person_types,(e,p)=>(n(),a("option",{key:p,value:e.type},T(e.person_type),9,X))),128))],544),[[D,i(u).type]])])])])])]),o("div",Y,[_(o("button",{onClick:w,class:"flex items-center mx-1 text-emerald-500 bg-white hover:bg-emerald-100 focus:ring-4 focus:ring-emerald-300 rounded-lg border border-emerald-200 text-sm font-medium px-5 py-2 hover:text-emerald-900 focus:z-10"},[l(i(A),{class:y(["h-6 w-6 mr-2"])}),Z],512),[[O,r.value.length>1]])]),o("div",ee,[(n(!0),a(h,null,v(r.value,(e,p)=>(n(),x($,{key:p,personDetails:e,"order-input":!0,onOrderPerson:se=>B()},null,8,["personDetails","onOrderPerson"]))),128))])]))}});export{ue as default};
