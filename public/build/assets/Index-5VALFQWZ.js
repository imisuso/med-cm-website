import{y as G,A as O,r as x,c as f,o as m,a as e,i as $,n as M,g as c,t as w,b as y,e as h,f as g,T as V,F as B,j as k,x as E,_ as H,D as L,u as T,d as S,w as F,v as I,E as A,l as N,h as U}from"./app-BrrKJ-Yp.js";import{_ as C}from"./Modal-BqRZ2gm4.js";import{T as q}from"./ToggleSwitch-CIiBJIlu.js";import{d as b}from"./th-q8ti1VDs.js";import{b as R}from"./buddhistEra-41pnN12S.js";import{t as D}from"./style-Cu4i-aeD.js";import{_ as W}from"./Paginations-LqJLmySb.js";const J={class:"bg-linear-to-l from-sky-100 shadow-md border-2 border-gray-200 rounded-lg flex flex-col w-full space-y-1 mt-2"},K={class:"block sm:hidden px-4 pt-4 relative"},P={class:"py-1","aria-labelledby":"dropdownButton"},Q=["href"],X={class:"flex flex-col sm:flex-row items-center w-full px-2 bg-linear-to-l from-sky-100"},Y={class:"flex shrink-0 w-24 items-center justify-center"},Z=["src"],ee={class:"flex flex-col w-full px-2 items-center sm:items-start"},te={class:"text-sm text-gray-500 break-words"},se={class:"flex flex-row sm:flex-col w-full justify-center items-baseline px-1 sm:px-2 py-1 sm:py-0"},le={class:"text-sm text-gray-500 place-self-center"},oe={class:"flex flex-row sm:flex-col w-full justify-center items-baseline px-1 sm:px-2 py-1 sm:py-0"},re={class:"text-sm text-gray-500 place-self-center"},ne={class:"flex flex-row sm:flex-col w-full justify-center items-baseline px-1 sm:px-2 py-1 sm:py-0"},ae={class:"text-sm text-gray-500 place-self-center"},ie={class:"flex flex-row items-baseline"},de={class:"hidden sm:block"},ue={class:"px-4 pt-4 relative"},me={class:"py-1","aria-labelledby":"dropdownButton"},ge=["href"],ce={key:0,class:"text-gray-900 text-xl font-medium dark:text-white"},xe={key:1,class:"text-gray-900 text-xl font-medium dark:text-white"},fe={class:"flex flex-row justify-start items-center"},pe=["src"],ve={class:"text-gray-900 text-md font-medium dark:text-white truncate"},we={__name:"GalleryInteractiveCardList",props:{galleryDetails:{type:Object,required:!0,default:{}}},emits:["edit-gallery","delete-gallery"],setup(r,{emit:j}){G(()=>{window.addEventListener("click",d)}),O(()=>{window.removeEventListener("click",d)}),b.extend(R),x(base_url);const a=x(!1),u=x(!1),d=n=>{n.target.matches(".dropbtn")||a.value&&(a.value=!1)},p=(n,t,o)=>{D({title:t,description:o},{showIcon:!0,transition:"zoom",position:"top-right",type:n,timeout:3e3})},v=n=>{k.patch(route("admin.gallery.update_display_status",n.id),{},{onSuccess:()=>{n.status=!n.status,p("success","สำเร็จ","เปลี่ยนสถานะการแสดงผลบนหน้า website เรียบร้อย")},onError:t=>{let o="";for(let l in t)o=o+`- ${t[l]}<br/>`;p("danger","พบข้อผิดพลาด",o)},onFinish:()=>{u.value=!1}})};return(n,t)=>(m(),f(B,null,[e("div",J,[e("div",K,[e("button",{id:"dropdownButton",onClick:t[0]||(t[0]=o=>a.value=!a.value),class:"block dropbtn text-gray-500 hover:bg-gray-100 focus:outline-hidden focus:ring-4 focus:ring-gray-200 rounded-lg text-sm p-1.5"},t[10]||(t[10]=[e("svg",{class:"w-6 h-6 dropbtn",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{class:"dropbtn",d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})],-1)])),e("div",{id:"dropdown",class:M([[a.value?"":"hidden"],"absolute dropdown-content left-0 bg-white text-base z-10 list-none divide-y divide-gray-100 rounded-sm shadow-sm w-44"])},[e("ul",P,[e("li",null,[e("a",{href:n.route("admin.gallery.manage",r.galleryDetails.id),target:"_blank",class:"flex items-center text-sm hover:bg-gray-100 text-blue-900 px-4 py-2"},t[11]||(t[11]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 px-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})],-1),c(" จัดการรูป ",-1)]),8,Q)]),e("li",null,[e("a",{href:"#",onClick:t[1]||(t[1]=o=>n.$emit("edit-gallery")),class:"flex items-center text-sm hover:bg-gray-100 text-yellow-500 px-4 py-2"},t[12]||(t[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 px-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),c(" แก้ไข ",-1)]))]),e("li",null,[e("a",{href:"#",onClick:t[2]||(t[2]=o=>n.$emit("delete-gallery")),class:"flex items-center text-sm hover:bg-gray-100 text-red-600 px-4 py-2"},t[13]||(t[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 px-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),c(" ลบ ",-1)]))])])],2)]),e("div",X,[e("div",Y,[e("img",{class:"shadow-lg rounded-md h-16 w-20 object-cover mb-1 mt-1",src:`${r.galleryDetails.cover_url}`,alt:"Not Found"},null,8,Z)]),e("div",ee,[t[14]||(t[14]=e("h3",{class:"text-md text-indigo-500 font-bold mb-1"},"รายละเอียด:",-1)),e("span",te,w(r.galleryDetails.desc),1)]),e("div",se,[t[15]||(t[15]=e("div",{class:"px-1 place-self-center text-md text-indigo-500 font-bold"},"วันที่จัดกิจกรรม:",-1)),e("div",le,w(y(b)(r.galleryDetails.event_date).locale("th").format("D/MM/BBBB")),1)]),e("div",oe,[t[16]||(t[16]=e("div",{class:"px-1 place-self-center text-md text-indigo-500 font-bold"},"วันที่สร้าง:",-1)),e("div",re,w(y(b)(r.galleryDetails.created_at).locale("th").format("D/MM/BBBB H:mm")),1)]),e("div",ne,[t[19]||(t[19]=e("div",{class:"px-1 place-self-center text-md text-indigo-500 font-bold"},"การแสดงผล:",-1)),e("div",ae,[e("div",ie,[t[17]||(t[17]=e("div",{class:"text-blue-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})])],-1)),h(q,{status:r.galleryDetails.status,"onUpdate:status":t[3]||(t[3]=o=>r.galleryDetails.status=o),onButtonIsToggle:t[4]||(t[4]=o=>u.value=!u.value)},null,8,["status"]),t[18]||(t[18]=e("div",{class:"text-blue-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})])],-1))])])]),e("div",de,[e("div",ue,[e("button",{id:"dropdownButton",onClick:t[5]||(t[5]=o=>a.value=!a.value),class:"block dropbtn text-gray-500 hover:bg-gray-100 focus:outline-hidden focus:ring-4 focus:ring-gray-200 rounded-lg text-sm p-1.5"},t[20]||(t[20]=[e("svg",{class:"w-6 h-6 dropbtn",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{class:"dropbtn",d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})],-1)])),e("div",{id:"dropdown",class:M([[a.value?"":"hidden"],"absolute dropdown-content -left-28 bg-white text-base z-10 list-none divide-y divide-gray-100 rounded-sm shadow-sm w-44"])},[e("ul",me,[e("li",null,[e("a",{href:n.route("admin.gallery.manage",r.galleryDetails.id),target:"_blank",class:"flex items-center text-sm hover:bg-gray-100 text-blue-900 px-4 py-2"},t[21]||(t[21]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 px-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})],-1),c(" จัดการรูป ",-1)]),8,ge)]),e("li",null,[e("a",{href:"#",onClick:t[6]||(t[6]=o=>n.$emit("edit-gallery")),class:"flex items-center text-sm hover:bg-gray-100 text-yellow-500 px-4 py-2"},t[22]||(t[22]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 px-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),c(" แก้ไข ",-1)]))]),e("li",null,[e("a",{href:"#",onClick:t[7]||(t[7]=o=>n.$emit("delete-gallery")),class:"flex items-center text-sm hover:bg-gray-100 text-red-600 px-4 py-2"},t[23]||(t[23]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 px-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),c(" ลบ ",-1)]))])])],2)])])])]),(m(),$(V,{to:"body"},[h(C,{isModalOpen:u.value},{header:g(()=>[r.galleryDetails.status?(m(),f("div",ce,"คุณต้องการ ปิด การแสดงผลแกลลอรี่รูปกิจกรรม")):(m(),f("div",xe,"คุณต้องการ เปิด การแสดงผลแกลลอรี่รูปกิจกรรม"))]),body:g(()=>[e("div",fe,[e("img",{class:"shadow-lg rounded-md h-20 w-16 mb-1 mt-1 mr-4",src:`${r.galleryDetails.cover_url}`,alt:""},null,8,pe),e("div",ve,w(r.galleryDetails.desc),1)])]),footer:g(()=>[e("button",{onClick:t[8]||(t[8]=o=>v(r.galleryDetails)),type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-blue-300 focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," ตกลง "),e("button",{onClick:t[9]||(t[9]=o=>u.value=!1),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10"},"ยกเลิก")]),_:1},8,["isModalOpen"])]))],64))}},ye={class:"flex flex-col p-4 w-full"},he={class:"flex flex-col sm:flex-row sm:justify-between px-2 py-2 space-y-2 mb-2 w-full border border-gray-200 rounded-md shadow-md items-baseline"},be={class:"flex space-x-2"},ke={key:0,class:"flex flex-col justify-center mt-10 p-2 text-2xl text-white text-center border rounded-md bg-linear-to-r from-violet-500 to-fuchsia-500"},Me={class:"flex flex-col w-full mb-4"},$e={class:"text-gray-900 text-md font-medium dark:text-white"},Be={layout:H},Ce=Object.assign(Be,{__name:"Index",props:{galleries:{type:Object,required:!0,default:{}},filters:{type:Object}},setup(r){let a=x(r.filters.search);L(a,l=>{k.get(route("admin.gallery"),{search:l},{preserveState:!0,replace:!0})});const u=(l,s,i)=>{D({title:s,description:i},{showIcon:!0,transition:"zoom",position:"top-right",type:l,timeout:3e3})},d=T({id:null,desc:null,event_date:x(b().startOf("day").toDate())}),p=x(!1),v=l=>{p.value=l,l||d.reset()},n=l=>{axios({url:route("admin.gallery.check_empty",l.slug),method:"GET"}).then(s=>{if(s.data>0)return u("warning","คำเตือน","ตรวจพบรูปภาพในแกลลอรี่ <br> กรุณาลบรูปทั้งหมดในแกลลอรี่นี้ก่อนทำการลบ แกลลอรี่"),!0;d.id=l.id,d.desc=l.desc,v(!0)})},t=l=>{k.get(route("admin.gallery.edit",l.id),{},{preserveState:!0,replace:!0})},o=()=>{d.delete(route("admin.gallery.delete",d.id),{preserveState:!1,onSuccess:()=>{u("success","สำเร็จ","ลบข้อมูลแกลลอรี่ เรียบร้อย")},onError:l=>{let s="";for(let i in l)s=s+`- ${l[i]}<br/>`;u("danger","พบข้อผิดพลาด",s)},onFinish:()=>{d.processing=!1}}),v(!1)};return(l,s)=>(m(),f("div",ye,[e("div",he,[s[3]||(s[3]=e("div",{class:"text-2xl font-bold"},"จัดการ Galleries รูปกิจกรรม",-1)),F(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>A(a)?a.value=i:a=i),class:"text rounded-md border-gray-400",placeholder:"ค้นหาจากรายละเอียด"},null,512),[[I,y(a)]])]),e("div",be,[h(y(N),{href:l.route("admin.gallery.create"),method:"get",as:"button",type:"button",class:"flex items-center px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded-sm cursor-pointer hover:bg-green-800"},{default:g(()=>s[4]||(s[4]=[e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1),e("div",null,"เพิ่ม",-1)])),_:1,__:[4]},8,["href"])]),r.galleries.data.length===0?(m(),f("div",ke," ไม่พบข้อมูล Galleries รูปกิจกรรม ในระบบ ")):S("",!0),e("div",Me,[(m(!0),f(B,null,U(r.galleries.data,(i,z)=>(m(),$(we,{key:z,galleryDetails:i,onEditGallery:_=>t(i),onDeleteGallery:_=>n(i)},null,8,["galleryDetails","onEditGallery","onDeleteGallery"]))),128))]),h(W,{pagination:r.galleries},null,8,["pagination"]),h(C,{isModalOpen:p.value},{header:g(()=>s[5]||(s[5]=[e("div",{class:"text-gray-900 text-xl font-medium dark:text-white"}," คุณต้องการลบข้อมูลแกลลอรี่ ",-1)])),body:g(()=>[e("div",$e,w(y(d).desc),1)]),footer:g(()=>[e("button",{onClick:s[1]||(s[1]=i=>o()),type:"button",class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-red-800"},"ลบ"),e("button",{onClick:s[2]||(s[2]=i=>v(!1)),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600"},"ยกเลิก")]),_:1},8,["isModalOpen"])]))}}),Ee=E(Ce,[["__scopeId","data-v-67da9a45"]]);export{Ee as default};
