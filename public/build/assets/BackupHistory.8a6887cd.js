import{o,c as m,a as r,r as y,b as n,d as t,s as f,u as i,L as p,t as s,F as v,f as B,x as h,a5 as C,n as M}from"./app.5c847f4e.js";import{T as x}from"./ToggleSwitch.cb084e1f.js";import{d}from"./th.7faa9bf8.js";import{b as j}from"./buddhistEra.373e235e.js";import{_ as H}from"./Paginations.89690749.js";import{r as $}from"./ReplyIcon.44206d47.js";/* empty css                                                                 */function _(e,l){return o(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})])}function g(e,l){return o(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])}function b(e,l){return o(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const D={class:"overflow-x-scroll"},L={class:"w-full border-collapse border border-slate-400"},O=t("thead",{class:"bg-gray-50 border-b-2 border-gray-200"},[t("tr",null,[t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"#"),t("th",{class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},"\u0E04\u0E33\u0E19\u0E33\u0E2B\u0E19\u0E49\u0E32/\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07"),t("th",{class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},"\u0E0A\u0E37\u0E48\u0E2D-\u0E2A\u0E01\u0E38\u0E25"),t("th",{class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E2A\u0E32\u0E02\u0E32/\u0E2B\u0E19\u0E48\u0E27\u0E22"),t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E2B\u0E31\u0E27\u0E2B\u0E19\u0E49\u0E32\u0E2B\u0E19\u0E48\u0E27\u0E22"),t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E25\u0E33\u0E14\u0E31\u0E1A"),t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E01\u0E32\u0E23\u0E41\u0E2A\u0E14\u0E07\u0E1C\u0E25"),t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E1C\u0E39\u0E49\u0E14\u0E33\u0E40\u0E19\u0E34\u0E19\u0E01\u0E32\u0E23"),t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2D\u0E31\u0E1E\u0E40\u0E14\u0E17"),t("th",{class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25/\u0E40\u0E27\u0E2D\u0E23\u0E4C\u0E0A\u0E31\u0E48\u0E19")])],-1),T={class:"divide-y divide-gray-100"},z={class:"bg-gradient-to-r from-sky-50"},N={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},P=h(" \u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19 "),U={key:0,class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},E={key:1,class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},F={class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},I={class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},S={key:2,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},A={key:3,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},G={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},q={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},J={key:4,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},K={key:5,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},Q={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},R={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},W={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},X={key:0,class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},Y={key:1,class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},Z={class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap justify-center"},V={class:"w-2/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},tt={key:2,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},et={key:3,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},st={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},at={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},ot={key:4,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},rt={key:5,class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},nt={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},it={class:"w-1/12 p-3 text-sm font-semibold tracking-wide text-left whitespace-nowrap"},lt={__name:"PersonVersionInteractiveTable",props:{personCurrent:{type:Object,default:{}},personHistory:{type:Object,default:{}}},setup(e){d.extend(j),y(base_url);const l=c=>c.position_academic!==0,w=c=>!!c;return(c,u)=>(o(),n("div",null,[t("div",D,[t("table",L,[O,t("tbody",T,[t("tr",z,[t("td",N,[P,r(i(p),{href:c.route("admin.person.view",{Person:e.personCurrent.id,fromHistoryPage:!0}),class:"flex items-center text-sm hover:bg-gray-100 text-green-700 px-4 py-1 tracking-wide"},{default:f(()=>[r(i(g),{class:"w-10 h-10 px-2 text-blue-700 cursor-pointer"})]),_:1},8,["href"])]),l(e.personCurrent)?(o(),n("td",U,s(e.personCurrent.rname_short_th),1)):(o(),n("td",E,s(e.personCurrent.title_th),1)),t("td",F,s(e.personCurrent.fname_th)+" "+s(e.personCurrent.lname_th),1),t("td",I,s(e.personCurrent.division.name_th),1),w(e.personCurrent.profiles.leader)?(o(),n("td",S,[r(i(_),{class:"h-6 w-6 text-green-700"})])):(o(),n("td",A,[r(i(b),{class:"h-6 w-6 text-red-700"})])),t("td",G,s(e.personCurrent.display_order),1),t("td",q,[r(x,{status:e.personCurrent.status,"onUpdate:status":u[0]||(u[0]=a=>e.personCurrent.status=a)},null,8,["status"])]),e.personCurrent.user_last_act_full_name?(o(),n("td",J,s(e.personCurrent.user_last_act_full_name),1)):(o(),n("td",K,s(e.personCurrent.user_last_act),1)),t("td",Q,s(i(d)(e.personCurrent.updated_at).locale("th").format("D MMMM BBBB HH:mm:ss")),1),t("td",R,s(i(d)(e.personCurrent.created_at).locale("th").format("D MMMM BBBB HH:mm:ss")),1)]),(o(!0),n(v,null,B(e.personHistory,a=>(o(),n("tr",{key:a.id,class:"bg-gradient-to-r from-red-50"},[t("td",W,[h(" LOG-ID : "+s(a.trace_log_id)+" ",1),r(i(p),{href:c.route("admin.person.view_version",a.id),class:"flex items-center text-sm hover:bg-gray-100 text-green-700 px-4 py-1 tracking-wide"},{default:f(()=>[r(i(g),{class:"w-10 h-10 px-2 text-blue-700 cursor-pointer"})]),_:2},1032,["href"])]),l(a)?(o(),n("td",X,s(a.rname_short_th),1)):(o(),n("td",Y,s(a.title_th),1)),t("td",Z,s(a.fname_th)+" "+s(a.lname_th),1),t("td",V,s(a.division.name_th),1),w(a.profiles.leader)?(o(),n("td",tt,[r(i(_),{class:"h-6 w-6 text-green-700"})])):(o(),n("td",et,[r(i(b),{class:"h-6 w-6 text-red-700"})])),t("td",st,s(a.display_order),1),t("td",at,[r(x,{status:a.status,"onUpdate:status":k=>a.status=k},null,8,["status","onUpdate:status"])]),a.user_last_act_full_name?(o(),n("td",ot,s(a.user_last_act_full_name),1)):(o(),n("td",rt,s(a.user_last_act),1)),t("td",nt,s(i(d)(a.record_updated).locale("th").format("D MMMM BBBB HH:mm:ss")),1),t("td",it,s(i(d)(a.created_at).locale("th").format("D MMMM BBBB HH:mm:ss")),1)]))),128))])])])]))}},ct={class:"flex flex-col px-2 py-1 w-full"},dt={class:"flex flex-row justify-between px-2 py-2 space-y-2 mt-2 mb-2 w-full border rounded-md shadow-md items-baseline"},wt=t("div",{class:"text-2xl font-bold"},"\u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25",-1),ft={class:"flex items-center px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded cursor-pointer hover:bg-green-800"},pt=h(" \u0E01\u0E25\u0E31\u0E1A\u0E2B\u0E19\u0E49\u0E32\u0E1A\u0E38\u0E04\u0E04\u0E25\u0E32\u0E01\u0E23 "),mt={class:"flex flex-col"},ht={class:"flex flex-col w-full mb-4"},ut={class:"flex justify-center md:justify-end mt-2 px-4"},xt={layout:C},Ct=Object.assign(xt,{__name:"BackupHistory",props:{person:{type:Object,default:{}},person_versions:{type:Object,default:{}}},setup(e){return(l,w)=>(o(),n("div",ct,[t("div",dt,[wt,r(i(p),{href:l.route("admin.person"),method:"get",as:"button",type:"button",class:"px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-green-900 rounded cursor-pointer hover:bg-green-800"},{default:f(()=>[t("button",ft,[r(i($),{class:M(["h-6 w-6 mr-2"])}),pt])]),_:1},8,["href"])]),t("div",mt,[t("div",ht,[r(lt,{personDetails:e.person,personCurrent:e.person,personHistory:e.person_versions.data},null,8,["personDetails","personCurrent","personHistory"])])]),t("div",ut,[r(H,{pagination:e.person_versions},null,8,["pagination"])])]))}});export{Ct as default};
